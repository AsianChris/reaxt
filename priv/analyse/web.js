!function(e){function t(i){if(a[i])return a[i].exports;var r=a[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i=window.webpackJsonp;window.webpackJsonp=function(a,n){for(var s,o,l=0,d=[];l<a.length;l++)o=a[l],r[o]&&d.push.apply(d,r[o]),r[o]=0;for(s in n)e[s]=n[s];for(i&&i(a,n);d.length;)d.shift().call(null,t)};var a={},r={0:0};return t.e=function(e,i){if(0===r[e])return i.call(null,t);if(void 0!==r[e])r[e].push(i);else{r[e]=[i];var a=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.async=!0,n.src=t.p+""+e+".04e6316fe5a24a68336c.js",a.appendChild(n)}},t.m=e,t.c=a,t.p="",t(0)}([function(e,t,i){function a(){n.apply(null,location.hash.replace(/^#/,"").split("/"))}function r(){$.getJSON("/webpack/stats.json",function(e){s.load(e),$("body").html(i(11)()),a()})}function n(e){e||(e="home");var t,a=Array.prototype.slice.call(arguments,1);s.stats||(a.unshift(e),e="upload");try{t=i(13)("./"+e+"/page.js")}catch(r){t=function(e){e(i(10))},a.unshift(r,e)}t(function(e){$(function(){l&&l(),l=e.apply(null,a),window.scrollTo(0,0)})})}i(9);i(50);var s=i(2),o="";window.addEventListener("hashchange",function(){location.hash!==o&&(o=location.hash,a())},!1),r(),new EventSource("/webpack/events").onmessage=r;var l;s.loadPage=n},,function(e,t,i){function a(e){e.assets.sort(function(e,t){return t.size-e.size}),e.modules.sort(function(e,t){return e.id-t.id});var a={},n={},s={};e.modules.forEach(function(e,t){a[e.id]=e,n["$"+e.identifier]=e,s[e.uid=t]=e,e.dependencies=[]});var o={};e.chunks.forEach(function(e){o[e.id]=e,e.children=[]}),e.modules.forEach(function(e){e.reasons.forEach(function(t){var i=n["$"+t.moduleIdentifier];i&&(t.moduleUid=i.uid,i.dependencies.push({type:t.type,moduleId:e.id,moduleUid:e.uid,module:e.name,userRequest:t.userRequest,loc:t.loc}))}),e.issuerUid=n["$"+e.issuer]&&n["$"+e.issuer].uid,function t(e){if("number"==typeof e.timestamp)return e.timestamp;if(e.profile){var i=e.profile.factory||0,a=e.profile.building||0;if(e.time=i+a,!e.issuer)return e.timestamp=e.time;var r=n["$"+e.issuer];if(!r)return e.timestamp=0/0;t(r),e.timestamp=r.timestamp+e.time}}(e)}),e.chunks.forEach(function(e){e.parents.forEach(function(t){var i=o[t];i.children.push(e.id)}),e.origins.forEach(function(e){var t=n["$"+e.moduleIdentifier];t&&(e.moduleUid=t.uid)})}),e.modules.forEach(function(e){e.dependencies.sort(function(e,t){return e.loc||t.loc?e.loc?t.loc?(e=e.loc.split(/[:-]/),t=t.loc.split(/[:-]/),+e[0]<+t[0]?-1:+e[0]>+t[0]?1:+e[1]<+t[1]?-1:+e[1]>+t[1]?1:0):-1:1:0})});var l=0;e.assets.forEach(function(e){e.name.length>l&&(l=e.name.length)}),e.assets.forEach(function(e){for(e.normalizedName=e.name;e.normalizedName.length<l;)e.normalizedName=" "+e.normalizedName}),e.assets.sort(function(e,t){return e=e.normalizedName,t=t.normalizedName,t>e?-1:1}),t.stats=e,t.mapChunks=o,t.mapModules=a,t.mapModulesUid=s,t.mapModulesIdent=n;var d=i(9);d("set","dimension1",r(e.modules.length)+""),d("set","dimension2",r(e.chunks.length)+""),d("set","dimension3",r(e.assets.length)+""),d("set","dimension4",r(e.time)+"")}function r(e){if(0>=e)return 0;var t=1;do{if(10>=e)return e*t;t*=10,e=Math.floor(e/10)}while(e>0);return""}t.stats=null,t.mapModules=null,t.mapChunks=null,t.load=a},function(e,t,i){function a(e){return null!=e}/*!
	 * Jade - runtime
	 * Copyright(c) 2010 TJ Holowaychuk <tj@vision-media.ca>
	 * MIT Licensed
	 */
Array.isArray||(Array.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)}),Object.keys||(Object.keys=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t}),t.merge=function(e,t){var i=e["class"],r=t["class"];(i||r)&&(i=i||[],r=r||[],Array.isArray(i)||(i=[i]),Array.isArray(r)||(r=[r]),i=i.filter(a),r=r.filter(a),e["class"]=i.concat(r).join(" "));for(var n in t)"class"!=n&&(e[n]=t[n]);return e},t.attrs=function(e,i){var a=[],r=e.terse;delete e.terse;var n=Object.keys(e),s=n.length;if(s){a.push("");for(var o=0;s>o;++o){var l=n[o],d=e[l];"boolean"==typeof d||null==d?d&&a.push(r?l:l+'="'+l+'"'):a.push(0==l.indexOf("data")&&"string"!=typeof d?l+"='"+JSON.stringify(d)+"'":"class"==l&&Array.isArray(d)?l+'="'+t.escape(d.join(" "))+'"':i&&i[l]?l+'="'+t.escape(d)+'"':l+'="'+d+'"')}}return a.join(" ")},t.escape=function(e){return String(e).replace(/&(?!(\w+|\#\d+);)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},t.rethrow=function(e,t,a){if(!t)throw e;var r=3,n=i(47).readFileSync(t,"utf8"),s=n.split("\n"),o=Math.max(a-r,0),l=Math.min(s.length,a+r),r=s.slice(o,l).map(function(e,t){var i=t+o+1;return(i==a?"  > ":"    ")+i+"| "+e}).join("\n");throw e.path=t,e.message=(t||"Jade")+":"+a+"\n"+r+"\n\n"+e.message,e}},function(e){e.exports=function(e,t){for(var i=0;i<e.length;i++)if(e[i].id===t)return e[i];return null}},function(e,t,i){var a=i(2),r=i(8),n=(i(4),i(6).greenRed),s=i(6).blue,o=document.getElementById("sigma-modules"),l=[],d=[],h=a.stats.modules.length,c=(a.stats.chunks.length,0),u=0;a.stats.modules.forEach(function(e){e.size>u&&(u=e.size),e.timestamp>c&&(c=e.timestamp)}),a.stats.modules.forEach(function(e,t){var i=n(Math.pow((e.size+1)/(u+1),.25)),r={},o=e.reasons.filter(function(e){var t=e.module;return r["$"+t]?!1:(r["$"+t]=!0,!0)}),g=e.uid;l.push({id:"module"+g,uid:g,moduleUid:g,moduleId:e.id,module:e,type:"webpack",size:e.size+1,label:"["+e.id+"] "+e.name,shortLabel:""+e.id,x:Math.cos(t/h*Math.PI*2)*Math.sqrt(o.length+1)*Math.sqrt(h),y:Math.sin(t/h*Math.PI*2)*Math.sqrt(o.length+1)*Math.sqrt(h),originalColor:i,color:i});var f="number"==typeof e.timestamp?s(e.timestamp/c):void 0;o.forEach(function(t){var i=t.moduleIdentifier,r=a.mapModulesIdent["$"+i];if(r){var n=1/o.length/o.length,s=!e.chunks.some(function(e){return function t(i,r){return 0===i.length?!1:i.indexOf(e)>=0?!0:(i=i.filter(function(e){return r.indexOf(e)<0}),0===i.length?!1:i.some(function(e){return t(a.mapChunks[e].parents,r.concat(e))}))}(r.chunks,[])});d.push({id:"edge"+e.uid+"-"+ +r.uid,sourceModuleUid:r.uid,sourceModule:r,source:"module"+r.uid,targetModule:e,targetModuleUid:e.uid,target:"module"+e.uid,arrow:"target",type:s?"dashedArrow":"arrow",lineDash:0===e.chunks.length?[2]:[5],originalColor:f,color:f,size:n,weight:s?n/4:n})}})});var g=new r({graph:{nodes:l,edges:d},renderer:{type:"canvas",container:o},settings:{edgeColor:"target",maxNodeSize:4,minNodeSize:4,maxEdgeSize:2,minEdgeSize:.05}}),f=null;g.bind("clickNode",function(e){window.location.hash=e.data.node.moduleUid===f?"#modules":"#module/"+e.data.node.moduleUid}),g.refresh(),t.show=function(){o.style.display="block",g.refresh(),g.startForceAtlas2(),g.renderers[0].resize()},t.hide=function(){o.style.display="none",g.stopForceAtlas2()},t.setNormal=function(){f=null,g.graph.nodes().forEach(function(e){e.color=e.originalColor,e.active=!1}),g.graph.edges().forEach(function(e){e.color=e.originalColor}),g.refresh()},t.setActiveModule=function(e){f=e;var t={},i=a.mapModulesUid[e];i.reasons.forEach(function(e){t[e.moduleUid]="#ff0000"}),i.dependencies.forEach(function(e){t[e.moduleUid]="#00aa00"}),t[e]="#000000",g.graph.nodes().forEach(function(e){e.color=t[e.moduleUid]||"#aaaaaa"}),g.graph.edges().forEach(function(t){t.color=t.targetModuleUid===e?"#ff0000":t.sourceModuleUid===e?"#00aa00":"#aaaaaa"}),g.refresh()},t.setActiveChunk=function(e){f=null,g.graph.nodes().forEach(function(t){var i=t.module;t.color=i.chunks.indexOf(e)>=0?"#000000":"#aaaaaa",t.active=!1}),g.graph.edges().forEach(function(t){var i=t.sourceModule,a=t.targetModule,r=i.chunks.indexOf(e)>=0,n=a.chunks.indexOf(e)>=0;t.color=r&&n?"#000000":r?"#00aa00":n?"#ff0000":"#aaaaaa"}),g.refresh()}},function(e,t){function i(e,t,i){e=(e%1+1)%1;var a=Math.floor(6*e),r=6*e-a,n=i*(1-t),s=i*(1-t*r),o=i*(1-t*(1-r));switch(a){case 0:return[i,o,n];case 1:return[s,i,n];case 2:return[n,i,o];case 3:return[n,s,i];case 4:return[o,n,i];case 5:return[i,n,s]}return[0,0,0]}function a(e){return"rgb("+e.map(function(e){return Math.floor(256*e)}).join(",")+")"}t.colorSpace=function(e){var t=i(e,1,.7);return a(t)},t.greenRed=function(e){var t=i((1-e)/3,1,.7);return a(t)},t.blue=function(e){var t=i(e/3+.5,1,.7);return a(t)}},,function(e,t,i){i(36),i(51),e.exports=sigma,sigma.canvas.labels.webpack=function(e,t,i){var a=e.label;e.shortLabel&&(e.label=e.shortLabel),sigma.canvas.labels.def(e,t,i),e.label=a},sigma.canvas.edges.dashedArrow=function(e,t,i,a,r){if(!a.getLineDash||!a.setLineDash)return sigma.canvas.edges.array(e,t,i,a,r);var n=a.getLineDash();a.setLineDash(e.lineDash||[5,5]),sigma.canvas.edges.arrow(e,t,i,a,r),a.setLineDash(n)},sigma.layout.forceatlas2.edgeWeightInfluence=.5,sigma.layout.forceatlas2.adjustSizes=!0},function(e){!function(e,t,i,a,r,n,s){e.GoogleAnalyticsObject=r,e[r]=e[r]||function(){(e[r].q=e[r].q||[]).push(arguments)},e[r].l=1*new Date,n=t.createElement(i),s=t.getElementsByTagName(i)[0],n.async=1,n.src=a,s.parentNode.insertBefore(n,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga");var t=window.ga;t("create","UA-46921629-1","webpack.github.io"),e.exports=function(){return window.ga.apply(window.ga,arguments)}},function(e,t,i){e.exports=function(e,t){document.title="error",$(".page").html(i(40)({err:e,page:t}))}},function(module,exports,__webpack_require__){var jade=__webpack_require__(3);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){buf.push('<nav class="navbar navbar-default"><div class="container-fluid"><ul class="nav navbar-nav"><li><a href="#home">Home</a></li><li><a href="#modules">Modules</a></li><li><a href="#chunks">Chunks</a></li><li><a href="#assets">Assets</a></li><li><a href="#warnings">Warnings</a></li><li><a href="#errors">Errors</a></li><li><a href="#hints">Hints</a></li></ul></div></nav><div id="sigma-modules" style="width: 99%; height: 500px; display:none;"></div><div id="sigma-chunks" style="width: 99%; height: 500px; display:none;"></div><div class="page"></div><div class="modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h4 class="modal-title">Upload webpack stats</h4></div><div class="modal-body"><div class="form-group"><label for="file">JSON file</label><input type="file" id="file" class="form-control"/></div><div class="form-group"><label for="example">Example</label><div><button type="btn btn-default" id="example">Use example</button></div></div></div><div class="modal-footer"></div></div></div></div>')}return buf.join("")}},,function(e,t,i){function a(e){return i(r(e))}function r(e){return n[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var n={"./assets/page.js":24,"./chunk/page.js":25,"./chunks/page.js":26,"./error/page.js":27,"./errors/page.js":28,"./hints/page.js":29,"./home/page.js":30,"./module/page.js":31,"./modules/page.js":32,"./upload/page.js":33,"./warnings/page.js":34};a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=13},,,,,,,,,,,function(e,t,i){var a,r=[];e.exports=function(e){r?r.push(e):e(a)},i.e(2,function(){a=i(14);var e=r;r=null;for(var t=0,n=e.length;n>t;t++)e[t](a)})},function(e,t,i){var a,r=[];e.exports=function(e){r?r.push(e):e(a)},i.e(6,function(){a=i(15);var e=r;r=null;for(var t=0,n=e.length;n>t;t++)e[t](a)})},function(e,t,i){var a,r=[];e.exports=function(e){r?r.push(e):e(a)},i.e(3,function(){a=i(16);var e=r;r=null;for(var t=0,n=e.length;n>t;t++)e[t](a)})},function(e,t,i){var a,r=[];e.exports=function(e){r?r.push(e):e(a)},!function(){a=i(10);var e=r;r=null;for(var t=0,n=e.length;n>t;t++)e[t](a)}(i)},function(e,t,i){var a,r=[];e.exports=function(e){r?r.push(e):e(a)},i.e(9,function(){a=i(17);var e=r;r=null;for(var t=0,n=e.length;n>t;t++)e[t](a)})},function(e,t,i){var a,r=[];e.exports=function(e){r?r.push(e):e(a)},i.e(5,function(){a=i(18);var e=r;r=null;for(var t=0,n=e.length;n>t;t++)e[t](a)})},function(e,t,i){var a,r=[];e.exports=function(e){r?r.push(e):e(a)},i.e(8,function(){a=i(19);var e=r;r=null;for(var t=0,n=e.length;n>t;t++)e[t](a)})},function(e,t,i){var a,r=[];e.exports=function(e){r?r.push(e):e(a)},i.e(1,function(){a=i(20);var e=r;r=null;for(var t=0,n=e.length;n>t;t++)e[t](a)})},function(e,t,i){var a,r=[];e.exports=function(e){r?r.push(e):e(a)},i.e(4,function(){a=i(21);var e=r;r=null;for(var t=0,n=e.length;n>t;t++)e[t](a)})},function(e,t,i){var a,r=[];e.exports=function(e){r?r.push(e):e(a)},i.e(10,function(){a=i(22);var e=r;r=null;for(var t=0,n=e.length;n>t;t++)e[t](a)})},function(e,t,i){var a,r=[];e.exports=function(e){r?r.push(e):e(a)},i.e(7,function(){a=i(23);var e=r;r=null;for(var t=0,n=e.length;n>t;t++)e[t](a)})},function(e){e.exports="table pre{margin-bottom:0}"},function(){(function(){var e=void 0,t=void 0;(function(){"use strict";var i={},a=function(e){var t,r,n,s,o;a.classes.dispatcher.extend(this);var l=this,d=e||{};if("string"==typeof d||d instanceof HTMLElement?d={renderers:[d]}:"[object Array]"===Object.prototype.toString.call(d)&&(d={renderers:d}),s=d.renderers||d.renderer||d.container,d.renderers&&0!==d.renderers.length||("string"==typeof s||s instanceof HTMLElement||"object"==typeof s&&"container"in s)&&(d.renderers=[s]),d.id){if(i[d.id])throw'sigma: Instance "'+d.id+'" already exists.';Object.defineProperty(this,"id",{value:d.id})}else{for(o=0;i[o];)o++;Object.defineProperty(this,"id",{value:""+o})}for(i[this.id]=this,this.settings=new a.classes.configurable(a.settings,d.settings||{}),Object.defineProperty(this,"graph",{value:new a.classes.graph(this.settings),configurable:!0}),Object.defineProperty(this,"middlewares",{value:[],configurable:!0}),Object.defineProperty(this,"cameras",{value:{},configurable:!0}),Object.defineProperty(this,"renderers",{value:{},configurable:!0}),Object.defineProperty(this,"renderersPerCamera",{value:{},configurable:!0}),Object.defineProperty(this,"cameraFrames",{value:{},configurable:!0}),this._handler=function(e){var t,i={};for(t in e.data)i[t]=e.data[t];i.renderer=e.target,this.dispatchEvent(e.type,i)}.bind(this),n=d.renderers||[],t=0,r=n.length;r>t;t++)this.addRenderer(n[t]);for(n=d.middlewares||[],t=0,r=n.length;r>t;t++)this.middlewares.push("string"==typeof n[t]?a.middlewares[n[t]]:n[t]);"object"==typeof d.graph&&d.graph&&(this.graph.read(d.graph),this.refresh()),window.addEventListener("resize",function(){l.settings&&l.refresh()})};if(a.prototype.addCamera=function(e){var t,i=this;if(!arguments.length){for(e=0;this.cameras[""+e];)e++;e=""+e}if(this.cameras[e])throw'sigma.addCamera: The camera "'+e+'" already exists.';return t=new a.classes.camera(e,this.graph,this.settings),this.cameras[e]=t,t.quadtree=new a.classes.quad,t.bind("coordinatesUpdated",function(){i.renderCamera(t,t.isAnimated)}),this.renderersPerCamera[e]=[],t},a.prototype.killCamera=function(e){if(e="string"==typeof e?this.cameras[e]:e,!e)throw"sigma.killCamera: The camera is undefined.";var t,i,a=this.renderersPerCamera[e.id];for(i=a.length,t=i-1;t>=0;t--)this.killRenderer(a[t]);return delete this.renderersPerCamera[e.id],delete this.cameraFrames[e.id],delete this.cameras[e.id],e.kill&&e.kill(),this},a.prototype.addRenderer=function(e){var t,i,r,n,s=e||{};if("string"==typeof s?s={container:document.getElementById(s)}:s instanceof HTMLElement&&(s={container:s}),"id"in s)t=s.id;else{for(t=0;this.renderers[""+t];)t++;t=""+t}if(this.renderers[t])throw'sigma.addRenderer: The renderer "'+t+'" already exists.';if(i="function"==typeof s.type?s.type:a.renderers[s.type],i=i||a.renderers.def,r="camera"in s?s.camera instanceof a.classes.camera?s.camera:this.cameras[s.camera]||this.addCamera(s.camera):this.addCamera(),this.cameras[r.id]!==r)throw"sigma.addRenderer: The camera is not properly referenced.";return n=new i(this.graph,r,this.settings,s),this.renderers[t]=n,Object.defineProperty(n,"id",{value:t}),n.bind&&n.bind(["click","clickStage","clickNode","clickNodes","overNode","overNodes","outNode","outNodes","downNode","downNodes","upNode","upNodes"],this._handler),this.renderersPerCamera[r.id].push(n),n},a.prototype.killRenderer=function(e){if(e="string"==typeof e?this.renderers[e]:e,!e)throw"sigma.killRenderer: The renderer is undefined.";var t=this.renderersPerCamera[e.camera.id],i=t.indexOf(e);return i>=0&&t.splice(i,1),e.kill&&e.kill(),delete this.renderers[e.id],this},a.prototype.refresh=function(){var e,t,i,r,n,s,o=0;for(r=this.middlewares||[],e=0,t=r.length;t>e;e++)r[e].call(this,0===e?"":"tmp"+o+":",e===t-1?"ready:":"tmp"+ ++o+":");for(i in this.cameras)n=this.cameras[i],n.settings("autoRescale")&&this.renderersPerCamera[n.id]&&this.renderersPerCamera[n.id].length?a.middlewares.rescale.call(this,r.length?"ready:":"",n.readPrefix,{width:this.renderersPerCamera[n.id][0].width,height:this.renderersPerCamera[n.id][0].height}):a.middlewares.copy.call(this,r.length?"ready:":"",n.readPrefix),s=a.utils.getBoundaries(this.graph,n.readPrefix),n.quadtree.index(this.graph.nodes(),{prefix:n.readPrefix,bounds:{x:s.minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}});for(r=Object.keys(this.renderers),e=0,t=r.length;t>e;e++)if(this.renderers[r[e]].process)if(this.settings("skipErrors"))try{this.renderers[r[e]].process()}catch(l){console.log('Warning: The renderer "'+r[e]+'" crashed on ".process()"')}else this.renderers[r[e]].process();return this.render(),this},a.prototype.render=function(){var e,t,i;for(i=Object.keys(this.renderers),e=0,t=i.length;t>e;e++)if(this.settings("skipErrors"))try{this.renderers[i[e]].render()}catch(a){this.settings("verbose")&&console.log('Warning: The renderer "'+i[e]+'" crashed on ".render()"')}else this.renderers[i[e]].render();return this},a.prototype.renderCamera=function(e,t){var i,a,r,n=this;if(t)for(r=this.renderersPerCamera[e.id],i=0,a=r.length;a>i;i++)if(this.settings("skipErrors"))try{r[i].render()}catch(s){this.settings("verbose")&&console.log('Warning: The renderer "'+r[i].id+'" crashed on ".render()"')}else r[i].render();else if(!this.cameraFrames[e.id]){for(r=this.renderersPerCamera[e.id],i=0,a=r.length;a>i;i++)if(this.settings("skipErrors"))try{r[i].render()}catch(s){this.settings("verbose")&&console.log('Warning: The renderer "'+r[i].id+'" crashed on ".render()"')}else r[i].render();this.cameraFrames[e.id]=requestAnimationFrame(function(){delete n.cameraFrames[e.id]})}return this},a.prototype.kill=function(){var e;this.graph.kill(),delete this.middlewares;for(e in this.renderers)this.killRenderer(this.renderers[e]);for(e in this.cameras)this.killCamera(this.cameras[e]);delete this.renderers,delete this.cameras;for(e in this)this.hasOwnProperty(e)&&delete this[e];delete i[this.id]},a.instances=function(e){return arguments.length?i[e]:a.utils["extends"]({},i)},"undefined"!=typeof this.sigma)throw"An object called sigma is already in the global scope.";"undefined"!=typeof t?("undefined"!=typeof e&&e.exports&&(t=e.exports=a),t.sigma=a):this.sigma=a}).call(this),function(i){"use strict";function a(e,t){var i,r,n;if(arguments.length)if(1===arguments.length&&Object(arguments[0])===arguments[0])for(e in arguments[0])a(e,arguments[0][e]);else if(arguments.length>1){n=Array.isArray(e)?e:e.split(/ /);for(i in n)r=n[i],N[r]||(N[r]=[]),N[r].push({handler:t})}}function r(e,t){var i,a,r,n,s=Array.isArray(e)?e:e.split(/ /);if(arguments.length)if(t)for(i in s){if(n=s[i],N[n]){r=[];for(a in N[n])N[n][a].handler!==t&&r.push(N[n][a]);N[n]=r}N[n]&&0===N[n].length&&delete N[n]}else for(i in s)delete N[s[i]];else N=Object.create(null)}function n(e,t){var i,a,r,n,s=Array.isArray(e)?e:e.split(/ /);t=void 0===t?{}:t;for(i in s)if(n=s[i],N[n]){r={type:n,data:t||{}};for(a in N[n])try{N[n][a].handler(r)}catch(o){}}}function s(){var e,t,i,a,r=!1,n=b(),s=T.shift();if(i=s.job(),n=b()-n,s.done++,s.time+=n,s.currentTime+=n,s.weightTime=s.currentTime/(s.weight||1),s.averageTime=s.time/s.done,a=s.count?s.count<=s.done:!i,!a){for(e=0,t=T.length;t>e;e++)if(T[e].weightTime>s.weightTime){T.splice(e,0,s),r=!0;break}r||T.push(s)}return a?s:null}function o(e){var t=T.length;_[e.id]=e,e.status="running",t&&(e.weightTime=T[t-1].weightTime,e.currentTime=e.weightTime*(e.weight||1)),e.startTime=b(),n("jobStarted",x(e)),T.push(e)}function l(){var e,t,i;for(e in E)t=E[e],t.after?M[e]=t:o(t),delete E[e];for(A=!!T.length;T.length&&b()-w<P.frameDuration;)if(i=s()){h(i.id);for(e in M)M[e].after===i.id&&(o(M[e]),delete M[e])}A?(w=b(),n("enterFrame"),setTimeout(l,0)):n("stop")}function d(e,t){var i,a,r;if(Array.isArray(e)){for(R=!0,i=0,a=e.length;a>i;i++)d(e[i].id,y(e[i],t));R=!1,A||(w=b(),n("start"),l())}else if("object"==typeof e)if("string"==typeof e.id)d(e.id,e);else{R=!0;for(i in e)"function"==typeof e[i]?d(i,y({job:e[i]},t)):d(i,y(e[i],t));R=!1,A||(w=b(),n("start"),l())}else{if("string"!=typeof e)throw new Error("[conrad.addJob] Wrong arguments.");if(u(e))throw new Error('[conrad.addJob] Job with id "'+e+'" already exists.');if("function"==typeof t)r={id:e,done:0,time:0,status:"waiting",currentTime:0,averageTime:0,weightTime:0,job:t};else{if("object"!=typeof t)throw new Error("[conrad.addJob] Wrong arguments.");r=y({id:e,done:0,time:0,status:"waiting",currentTime:0,averageTime:0,weightTime:0},t)}E[e]=r,n("jobAdded",x(r)),A||R||(w=b(),n("start"),l())}return this}function h(e){var t,i,a,r,s=!1;if(Array.isArray(e))for(t=0,i=e.length;i>t;t++)h(e[t]);else{if("string"!=typeof e)throw new Error("[conrad.killJob] Wrong arguments.");for(a=[_,M,E],t=0,i=a.length;i>t;t++)e in a[t]&&(r=a[t][e],P.history&&(r.status="done",S.push(r)),n("jobEnded",x(r)),delete a[t][e],"function"==typeof r.end&&r.end(),s=!0);for(a=T,t=0,i=a.length;i>t;t++)if(a[t].id===e){a.splice(t,1);break}if(!s)throw new Error('[conrad.killJob] Job "'+e+'" not found.')}return this}function c(){var e,t=y(E,_,M);if(P.history)for(e in t)t[e].status="done",S.push(t[e]),"function"==typeof t[e].end&&t[e].end();return E={},M={},_={},T=[],A=!1,this}function u(e){var t=E[e]||_[e]||M[e];return t?y(t):null}function g(){var e;if("string"==typeof a1&&1===arguments.length)return P[a1];e="object"==typeof a1&&1===arguments.length?a1||{}:{},"string"==typeof a1&&(e[a1]=a2);for(var t in e)void 0!==e[t]?P[t]=e[t]:delete P[t];return this}function f(){return A}function m(){return S=[],this}function p(e,t){var i,a,r,n,s,o,l;if(!arguments.length){s=[];for(a in E)s.push(E[a]);for(a in M)s.push(M[a]);for(a in _)s.push(_[a]);s=s.concat(S)}if("string"==typeof e)switch(e){case"waiting":s=v(M);break;case"running":s=v(_);break;case"done":s=S;break;default:o=e}if(e instanceof RegExp&&(o=e),!o&&("string"==typeof t||t instanceof RegExp)&&(o=t),o){if(l="string"==typeof o,s instanceof Array)i=s;else if("object"==typeof s){i=[];for(a in s)i=i.concat(s[a])}else{i=[];for(a in E)i.push(E[a]);for(a in M)i.push(M[a]);for(a in _)i.push(_[a]);i=i.concat(S)}for(s=[],r=0,n=i.length;n>r;r++)(l?i[r].id===o:i[r].id.match(o))&&s.push(i[r])}return x(s)}function y(){var e,t,i={},a=arguments.length;for(e=a-1;e>=0;e--)for(t in arguments[e])i[t]=arguments[e][t];return i}function x(e){var t,i,a;if(!e)return e;if(Array.isArray(e))for(t=[],i=0,a=e.length;a>i;i++)t.push(x(e[i]));else if("object"==typeof e){t={};for(i in e)t[i]=x(e[i])}else t=e;return t}function v(e){var t,i=[];for(t in e)i.push(e[t]);return i}function b(){return Date.now?Date.now():(new Date).getTime()}if(i.conrad)throw new Error("conrad already exists");var w,A=!1,E={},_={},T=[],M={},S=[],R=!1,P={frameDuration:20,history:!0},N=Object.create(null);Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var C={hasJob:u,addJob:d,killJob:h,killAll:c,settings:g,getStats:p,isRunning:f,clearHistory:m,bind:a,unbind:r,version:"0.1.0"};"undefined"!=typeof t?("undefined"!=typeof e&&e.exports&&(t=e.exports=C),t.conrad=C):i.conrad=C}(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";var t=this;sigma.utils=sigma.utils||{},sigma.utils.extend=function(){var e,t,i={},a=arguments.length;for(e=a-1;e>=0;e--)for(t in arguments[e])i[t]=arguments[e][t];return i},sigma.utils.dateNow=function(){return Date.now?Date.now():(new Date).getTime()},sigma.utils.pkg=function(e){return(e||"").split(".").reduce(function(e,t){return t in e?e[t]:e[t]={}},t)},sigma.utils.id=function(){var e=0;return function(){return++e}}(),sigma.utils.floatColor=function(e){var t=[0,0,0];return e.match(/^#/)?(e=(e||"").replace(/^#/,""),t=3===e.length?[parseInt(e.charAt(0)+e.charAt(0),16),parseInt(e.charAt(1)+e.charAt(1),16),parseInt(e.charAt(2)+e.charAt(2),16)]:[parseInt(e.charAt(0)+e.charAt(1),16),parseInt(e.charAt(2)+e.charAt(3),16),parseInt(e.charAt(4)+e.charAt(5),16)]):e.match(/^ *rgba? *\(/)&&(e=e.match(/^ *rgba? *\( *([0-9]*) *, *([0-9]*) *, *([0-9]*) *(,.*)?\) *$/),t=[+e[1],+e[2],+e[3]]),256*t[0]*256+256*t[1]+t[2]},sigma.utils.getX=function(t){return t.offsetX!==e&&t.offsetX||t.layerX!==e&&t.layerX||t.clientX!==e&&t.clientX},sigma.utils.getY=function(t){return t.offsetY!==e&&t.offsetY||t.layerY!==e&&t.layerY||t.clientY!==e&&t.clientY},sigma.utils.getDelta=function(t){return t.wheelDelta!==e&&t.wheelDelta||t.detail!==e&&-t.detail},sigma.utils.getOffset=function(e){for(var t=0,i=0;e;)i+=parseInt(e.offsetTop),t+=parseInt(e.offsetLeft),e=e.offsetParent;return{top:i,left:t}},sigma.utils.doubleClick=function(e,t,i){var a=0;e.addEventListener(t,function(e){return a++,2===a?(a=0,i(e)):void(1===a&&setTimeout(function(){a=0},sigma.settings.doubleClickTimeout))},!1)},sigma.utils.easings=sigma.utils.easings||{},sigma.utils.easings.linearNone=function(e){return e},sigma.utils.easings.quadraticIn=function(e){return e*e},sigma.utils.easings.quadraticOut=function(e){return e*(2-e)},sigma.utils.easings.quadraticInOut=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},sigma.utils.easings.cubicIn=function(e){return e*e*e},sigma.utils.easings.cubicOut=function(e){return--e*e*e+1},sigma.utils.easings.cubicInOut=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},sigma.utils.loadShader=function(e,t,i,a){var r,n=e.createShader(i);return e.shaderSource(n,t),e.compileShader(n),r=e.getShaderParameter(n,e.COMPILE_STATUS),r?n:(a&&a('Error compiling shader "'+n+'":'+e.getShaderInfoLog(n)),e.deleteShader(n),null)},sigma.utils.loadProgram=function(e,t,i,a,r){var n,s,o=e.createProgram();for(n=0;n<t.length;++n)e.attachShader(o,t[n]);if(i)for(n=0;n<i.length;++n)e.bindAttribLocation(o,locations?locations[n]:n,opt_attribs[n]);return e.linkProgram(o),s=e.getProgramParameter(o,e.LINK_STATUS),s?o:(r&&r("Error in program linking: "+e.getProgramInfoLog(o)),e.deleteProgram(o),null)},sigma.utils.pkg("sigma.utils.matrices"),sigma.utils.matrices.translation=function(e,t){return[1,0,0,0,1,0,e,t,1]},sigma.utils.matrices.rotation=function(e,t){var i=Math.cos(e),a=Math.sin(e);return t?[i,-a,a,i]:[i,-a,0,a,i,0,0,0,1]},sigma.utils.matrices.scale=function(e,t){return t?[e,0,0,e]:[e,0,0,0,e,0,0,0,1]},sigma.utils.matrices.multiply=function(e,t,i){var a=i?2:3,r=e[0*a+0],n=e[0*a+1],s=e[0*a+2],o=e[1*a+0],l=e[1*a+1],d=e[1*a+2],h=e[2*a+0],c=e[2*a+1],u=e[2*a+2],g=t[0*a+0],f=t[0*a+1],m=t[0*a+2],p=t[1*a+0],y=t[1*a+1],x=t[1*a+2],v=t[2*a+0],b=t[2*a+1],w=t[2*a+2];return i?[r*g+n*p,r*f+n*y,o*g+l*p,o*f+l*y]:[r*g+n*p+s*v,r*f+n*y+s*b,r*m+n*x+s*w,o*g+l*p+d*v,o*f+l*y+d*b,o*m+l*x+d*w,h*g+c*p+u*v,h*f+c*y+u*b,h*m+c*x+u*w]}}.call(this),function(){"use strict";var e,t=0,i=["ms","moz","webkit","o"];for(e=0;e<i.length&&!window.requestAnimationFrame;e++)window.requestAnimationFrame=window[i[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[e]+"CancelAnimationFrame"]||window[i[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),a=Math.max(0,16-(i-t)),r=window.setTimeout(function(){e(i+a)},a);return t=i+a,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t,i,a=Array.prototype.slice.call(arguments,1),r=this;return t=function(){},i=function(){return r.apply(this instanceof t&&e?this:e,a.concat(Array.prototype.slice.call(arguments)))},t.prototype=this.prototype,i.prototype=new t,i})}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.settings");var e={clone:!0,immutable:!0,verbose:!1,defaultLabelColor:"#000",defaultEdgeColor:"#000",defaultNodeColor:"#000",defaultLabelSize:14,edgeColor:"source",font:"arial",fontStyle:"",labelColor:"default",labelSize:"fixed",labelSizeRatio:1,labelThreshold:8,webglOversamplingRatio:2,borderSize:0,defaultNodeBorderColor:"#000",hoverFont:"",hoverFontStyle:"",labelHoverShadow:"default",labelHoverShadowColor:"#000",nodeHoverColor:"node",defaultNodeHoverColor:"#000",labelHoverBGColor:"default",defaultHoverLabelBGColor:"#fff",labelHoverColor:"default",defaultLabelHoverColor:"#000",drawLabels:!0,drawEdges:!0,drawNodes:!0,batchEdgesDrawing:!1,hideEdgesOnMove:!1,canvasEdgesBatchSize:500,webglEdgesBatchSize:1e3,scalingMode:"inside",sideMargin:0,minEdgeSize:.5,maxEdgeSize:1,minNodeSize:1,maxNodeSize:8,touchEnabled:!0,mouseEnabled:!0,eventsEnabled:!0,zoomingRatio:1.7,doubleClickZoomingRatio:2.2,zoomMin:.0625,zoomMax:2,mouseZoomDuration:200,doubleClickZoomDuration:200,mouseInertiaDuration:200,mouseInertiaRatio:3,touchInertiaDuration:200,touchInertiaRatio:3,doubleClickTimeout:300,doubleTapTimeout:300,dragTimeout:200,autoResize:!0,autoRescale:!0,enableCamera:!0,enableHovering:!0,rescaleIgnoreSize:!1,skipErrors:!1,nodesPowRatio:.5,edgesPowRatio:.5,animationsTime:200};sigma.settings=sigma.utils.extend(sigma.settings||{},e)}.call(this),function(){"use strict";var i=function(){Object.defineProperty(this,"_handlers",{value:{}})};i.prototype.bind=function(e,t){var i,a,r;if(1===arguments.length&&"object"==typeof arguments[0])for(e in arguments[0])this.bind(e,arguments[0][e]);else{if(2!==arguments.length||"function"!=typeof arguments[1])throw"bind: Wrong arguments.";r="string"==typeof e?e.split(" "):e;for(i in r)a=r[i],a&&(this._handlers[a]||(this._handlers[a]=[]),this._handlers[a].push({handler:t}))}return this},i.prototype.unbind=function(e,t){var i,a,r,n,s="string"==typeof e?e.split(" "):e;if(!arguments.length){for(i in this._handlers)delete this._handlers[i];return this}if(t)for(i in s){if(n=s[i],this._handlers[n]){r=[];for(a in this._handlers[n])this._handlers[n][a].handler!==t&&r.push(this._handlers[n][a]);this._handlers[n]=r}this._handlers[n]&&0===this._handlers[n].length&&delete this._handlers[n]}else for(i in s)delete this._handlers[s[i]];return this},i.prototype.dispatchEvent=function(e,t){var i,a,r,n,s,o=this,l="string"==typeof e?e.split(" "):e;t=void 0===t?{}:t;for(i in l)if(s=l[i],this._handlers[s]){n=o.getEvent(s,t),r=[];for(a in this._handlers[s])this._handlers[s][a].handler(n),this._handlers[s][a].one||r.push(this._handlers[s][a]);this._handlers[s]=r}return this},i.prototype.getEvent=function(e,t){return{type:e,data:t||{},target:this}},i.extend=function(e,t){var a;for(a in i.prototype)i.prototype.hasOwnProperty(a)&&(e[a]=i.prototype[a]);i.apply(e,t)},"undefined"!=typeof this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.dispatcher=i):"undefined"!=typeof t?("undefined"!=typeof e&&e.exports&&(t=e.exports=i),t.dispatcher=i):this.dispatcher=i}.call(this),function(){"use strict";var i=function(){var e,t,a={},r=Array.prototype.slice.call(arguments,0),n=function(i,s){var o,l;if(1===arguments.length&&"string"==typeof i){if(i in a&&void 0!==a[i])return a[i];for(e=0,t=r.length;t>e;e++)if(i in r[e]&&void 0!==r[e][i])return r[e][i];return void 0}if("object"==typeof i&&"string"==typeof s)return s in(i||{})?i[s]:n(s);o="object"==typeof i&&void 0===s?i:{},"string"==typeof i&&(o[i]=s);for(l in o)a[l]=o[l];return this};for(n.embedObjects=function(){var e=r.concat(a).concat(Array.prototype.splice.call(arguments,0));return i.apply({},e)},e=0,t=arguments.length;t>e;e++)n(arguments[e]);return n};"undefined"!=typeof this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.configurable=i):"undefined"!=typeof t?("undefined"!=typeof e&&e.exports&&(t=e.exports=i),t.configurable=i):this.configurable=i}.call(this),function(){"use strict";function i(e,t,i){var a=function(){var a,r;r=i.apply(t,arguments);for(a in o[e])o[e][a].apply(t,arguments);return r};return a}function a(e){var t;for(t in e)"hasOwnProperty"in e&&!e.hasOwnProperty(t)||delete e[t];return e}var r=Object.create(null),n=Object.create(null),s=Object.create(null),o=Object.create(null),l={immutable:!0,clone:!0},d=function(e){return l[e]},h=function(e){var t,a,n;n={settings:e||d,nodesArray:[],edgesArray:[],nodesIndex:Object.create(null),edgesIndex:Object.create(null),inNeighborsIndex:Object.create(null),outNeighborsIndex:Object.create(null),allNeighborsIndex:Object.create(null),inNeighborsCount:Object.create(null),outNeighborsCount:Object.create(null),allNeighborsCount:Object.create(null)};for(t in s)s[t].call(n);for(t in r)a=i(t,n,r[t]),this[t]=a,n[t]=a};h.addMethod=function(e,t){if("string"!=typeof e||"function"!=typeof t||2!==arguments.length)throw"addMethod: Wrong arguments.";if(r[e])throw'The method "'+e+'" already exists.';return r[e]=t,o[e]=Object.create(null),this},h.attach=function(e,t,i){if("string"!=typeof e||"string"!=typeof t||"function"!=typeof i||3!==arguments.length)throw"attach: Wrong arguments.";var a;if("constructor"===e)a=s;else{if(!o[e])throw'The method "'+e+'" does not exist.';a=o[e]}if(a[t])throw'A function "'+t+'" is already attached to the method "'+e+'".';return a[t]=i,this},h.addIndex=function(e,t){if("string"!=typeof e||Object(t)!==t||2!==arguments.length)throw"addIndex: Wrong arguments.";if(n[e])throw'The index "'+e+'" already exists.';var i;n[e]=t;for(i in t){if("function"!=typeof t[i])throw"The bindings must be functions.";h.attach(i,e,t[i])}return this},h.addMethod("addNode",function(e){if(Object(e)!==e||1!==arguments.length)throw"addNode: Wrong arguments.";if("string"!=typeof e.id)throw"The node must have a string id.";if(this.nodesIndex[e.id])throw'The node "'+e.id+'" already exists.';var t,i=e.id,a=Object.create(null);if(this.settings("clone"))for(t in e)"id"!==t&&(a[t]=e[t]);else a=e;return this.settings("immutable")?Object.defineProperty(a,"id",{value:i,enumerable:!0}):a.id=i,this.inNeighborsIndex[i]=Object.create(null),this.outNeighborsIndex[i]=Object.create(null),this.allNeighborsIndex[i]=Object.create(null),this.inNeighborsCount[i]=0,this.outNeighborsCount[i]=0,this.allNeighborsCount[i]=0,this.nodesArray.push(a),this.nodesIndex[a.id]=a,this}),h.addMethod("addEdge",function(e){if(Object(e)!==e||1!==arguments.length)throw"addEdge: Wrong arguments.";if("string"!=typeof e.id)throw"The edge must have a string id.";if("string"!=typeof e.source||!this.nodesIndex[e.source])throw"The edge source must have an existing node id.";if("string"!=typeof e.target||!this.nodesIndex[e.target])throw"The edge target must have an existing node id.";if(this.edgesIndex[e.id])throw'The edge "'+e.id+'" already exists.';var t,i=Object.create(null);if(this.settings("clone"))for(t in e)"id"!==t&&"source"!==t&&"target"!==t&&(i[t]=e[t]);else i=e;return this.settings("immutable")?(Object.defineProperty(i,"id",{value:e.id,enumerable:!0}),Object.defineProperty(i,"source",{value:e.source,enumerable:!0}),Object.defineProperty(i,"target",{value:e.target,enumerable:!0})):(i.id=e.id,i.source=e.source,i.target=e.target),this.edgesArray.push(i),this.edgesIndex[i.id]=i,this.inNeighborsIndex[e.target][e.source]||(this.inNeighborsIndex[e.target][e.source]=Object.create(null)),this.inNeighborsIndex[e.target][e.source][e.id]=e,this.outNeighborsIndex[e.source][e.target]||(this.outNeighborsIndex[e.source][e.target]=Object.create(null)),this.outNeighborsIndex[e.source][e.target][e.id]=e,this.allNeighborsIndex[e.source][e.target]||(this.allNeighborsIndex[e.source][e.target]=Object.create(null)),this.allNeighborsIndex[e.source][e.target][e.id]=e,this.allNeighborsIndex[e.target][e.source]||(this.allNeighborsIndex[e.target][e.source]=Object.create(null)),this.allNeighborsIndex[e.target][e.source][e.id]=e,this.inNeighborsCount[e.target]++,this.outNeighborsCount[e.source]++,this.allNeighborsCount[e.target]++,this.allNeighborsCount[e.source]++,this
}),h.addMethod("dropNode",function(e){if("string"!=typeof e||1!==arguments.length)throw"dropNode: Wrong arguments.";if(!this.nodesIndex[e])throw'The node "'+e+'" does not exist.';var t,i,a;for(delete this.nodesIndex[e],t=0,a=this.nodesArray.length;a>t;t++)if(this.nodesArray[t].id===e){this.nodesArray.splice(t,1);break}for(t=this.edgesArray.length-1;t>=0;t--)(this.edgesArray[t].source===e||this.edgesArray[t].target===e)&&this.dropEdge(this.edgesArray[t].id);delete this.inNeighborsIndex[e],delete this.outNeighborsIndex[e],delete this.allNeighborsIndex[e],delete this.inNeighborsCount[e],delete this.outNeighborsCount[e],delete this.allNeighborsCount[e];for(i in this.nodesIndex)delete this.inNeighborsIndex[i][e],delete this.outNeighborsIndex[i][e],delete this.allNeighborsIndex[i][e];return this}),h.addMethod("dropEdge",function(e){if("string"!=typeof e||1!==arguments.length)throw"dropEdge: Wrong arguments.";if(!this.edgesIndex[e])throw'The edge "'+e+'" does not exist.';var t,i,a;for(a=this.edgesIndex[e],delete this.edgesIndex[e],t=0,i=this.edgesArray.length;i>t;t++)if(this.edgesArray[t].id===e){this.edgesArray.splice(t,1);break}return delete this.inNeighborsIndex[a.target][a.source][a.id],Object.keys(this.inNeighborsIndex[a.target][a.source]).length||delete this.inNeighborsIndex[a.target][a.source],delete this.outNeighborsIndex[a.source][a.target][a.id],Object.keys(this.outNeighborsIndex[a.source][a.target]).length||delete this.outNeighborsIndex[a.source][a.target],delete this.allNeighborsIndex[a.source][a.target][a.id],Object.keys(this.allNeighborsIndex[a.source][a.target]).length||delete this.allNeighborsIndex[a.source][a.target],delete this.allNeighborsIndex[a.target][a.source][a.id],Object.keys(this.allNeighborsIndex[a.target][a.source]).length||delete this.allNeighborsIndex[a.target][a.source],this.inNeighborsCount[a.target]--,this.outNeighborsCount[a.source]--,this.allNeighborsCount[a.source]--,this.allNeighborsCount[a.target]--,this}),h.addMethod("kill",function(){this.nodesArray.length=0,this.edgesArray.length=0,delete this.nodesArray,delete this.edgesArray,delete this.nodesIndex,delete this.edgesIndex,delete this.inNeighborsIndex,delete this.outNeighborsIndex,delete this.allNeighborsIndex,delete this.inNeighborsCount,delete this.outNeighborsCount,delete this.allNeighborsCount}),h.addMethod("clear",function(){return this.nodesArray.length=0,this.edgesArray.length=0,a(this.nodesIndex),a(this.edgesIndex),a(this.nodesIndex),a(this.inNeighborsIndex),a(this.outNeighborsIndex),a(this.allNeighborsIndex),a(this.inNeighborsCount),a(this.outNeighborsCount),a(this.allNeighborsCount),this}),h.addMethod("read",function(e){var t,i,a;for(i=e.nodes||[],t=0,a=i.length;a>t;t++)this.addNode(i[t]);for(i=e.edges||[],t=0,a=i.length;a>t;t++)this.addEdge(i[t]);return this}),h.addMethod("nodes",function(e){if(!arguments.length)return this.nodesArray.slice(0);if(1===arguments.length&&"string"==typeof e)return this.nodesIndex[e];if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(e)){var t,i,a=[];for(t=0,i=e.length;i>t;t++){if("string"!=typeof e[t])throw"nodes: Wrong arguments.";a.push(this.nodesIndex[e[t]])}return a}throw"nodes: Wrong arguments."}),h.addMethod("degree",function(e,t){if(t={"in":this.inNeighborsCount,out:this.outNeighborsCount}[t||""]||this.allNeighborsCount,"string"==typeof e)return t[e];if("[object Array]"===Object.prototype.toString.call(e)){var i,a,r=[];for(i=0,a=e.length;a>i;i++){if("string"!=typeof e[i])throw"degree: Wrong arguments.";r.push(t[e[i]])}return r}throw"degree: Wrong arguments."}),h.addMethod("edges",function(e){if(!arguments.length)return this.edgesArray.slice(0);if(1===arguments.length&&"string"==typeof e)return this.edgesIndex[e];if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(e)){var t,i,a=[];for(t=0,i=e.length;i>t;t++){if("string"!=typeof e[t])throw"edges: Wrong arguments.";a.push(this.edgesIndex[e[t]])}return a}throw"edges: Wrong arguments."}),"undefined"!=typeof sigma?(sigma.classes=sigma.classes||Object.create(null),sigma.classes.graph=h):"undefined"!=typeof t?("undefined"!=typeof e&&e.exports&&(t=e.exports=h),t.graph=h):this.graph=h}.call(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.classes"),sigma.classes.camera=function(e,t,i,a){sigma.classes.dispatcher.extend(this),Object.defineProperty(this,"graph",{value:t}),Object.defineProperty(this,"id",{value:e}),Object.defineProperty(this,"readPrefix",{value:"read_cam"+e+":"}),Object.defineProperty(this,"prefix",{value:"cam"+e+":"}),this.x=0,this.y=0,this.ratio=1,this.angle=0,this.isAnimated=!1,this.settings="object"==typeof a&&a?i.embedObject(a):i},sigma.classes.camera.prototype.goTo=function(t){if(!this.settings("enableCamera"))return this;var i,a,r=t||{},n=["x","y","ratio","angle"];for(i=0,a=n.length;a>i;i++)if(r[n[i]]!==e){if("number"!=typeof r[n[i]]||isNaN(r[n[i]]))throw'Value for "'+n[i]+'" is not a number.';this[n[i]]=r[n[i]]}return this.dispatchEvent("coordinatesUpdated"),this},sigma.classes.camera.prototype.applyView=function(t,i,a){a=a||{},i=i!==e?i:this.prefix,t=t!==e?t:this.readPrefix;var r,n,s,o=a.nodes||this.graph.nodes(),l=a.edges||this.graph.edges(),d=Math.cos(this.angle),h=Math.sin(this.angle);for(r=0,n=o.length;n>r;r++)s=o[r],s[i+"x"]=(((s[t+"x"]||0)-this.x)*d+((s[t+"y"]||0)-this.y)*h)/this.ratio+(a.width||0)/2,s[i+"y"]=(((s[t+"y"]||0)-this.y)*d-((s[t+"x"]||0)-this.x)*h)/this.ratio+(a.height||0)/2,s[i+"size"]=(s[t+"size"]||0)/Math.pow(this.ratio,this.settings("nodesPowRatio"));for(r=0,n=l.length;n>r;r++)l[r][i+"size"]=(l[r][t+"size"]||0)/Math.pow(this.ratio,this.settings("edgesPowRatio"));return this},sigma.classes.camera.prototype.graphPosition=function(e,t,i){var a=0,r=0,n=Math.cos(this.angle),s=Math.sin(this.angle);return i||(a=-(this.x*n+this.y*s)/this.ratio,r=-(this.y*n-this.x*s)/this.ratio),{x:(e*n+t*s)/this.ratio+a,y:(t*n-e*s)/this.ratio+r}},sigma.classes.camera.prototype.cameraPosition=function(e,t,i){var a=0,r=0,n=Math.cos(this.angle),s=Math.sin(this.angle);return i||(a=-(this.x*n+this.y*s)/this.ratio,r=-(this.y*n-this.x*s)/this.ratio),{x:((e-a)*n-(t-r)*s)*this.ratio,y:((t-r)*n+(e-a)*s)*this.ratio}},sigma.classes.camera.prototype.getMatrix=function(){var e=sigma.utils.matrices.scale(1/this.ratio),t=sigma.utils.matrices.rotation(this.angle),i=sigma.utils.matrices.translation(-this.x,-this.y),a=sigma.utils.matrices.multiply(i,sigma.utils.matrices.multiply(t,e));return a},sigma.classes.camera.prototype.getRectangle=function(e,t){var i=this.cameraPosition(e,0,!0),a=this.cameraPosition(0,t,!0),r=this.cameraPosition(e/2,t/2,!0),n=this.cameraPosition(e/4,0,!0).x,s=this.cameraPosition(0,t/4,!0).y;return{x1:this.x-r.x-n,y1:this.y-r.y-s,x2:this.x-r.x+n+i.x,y2:this.y-r.y-s+i.y,height:Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y+2*s,2))}}}.call(this),function(i){"use strict";function a(e,t){var i=t.x+t.width/2,a=t.y+t.height/2,r=e.y<a,n=e.x<i;return r?n?0:1:n?2:3}function r(e,t){for(var i=[],a=0;4>a;a++)e.x2>=t[a][0].x&&e.x1<=t[a][1].x&&e.y1+e.height>=t[a][0].y&&e.y1<=t[a][2].y&&i.push(a);return i}function n(e,t){for(var i=[],a=0;4>a;a++)c.collision(e,t[a])&&i.push(a);return i}function s(e,t){var i,a,r=t.level+1,n=Math.round(t.bounds.width/2),s=Math.round(t.bounds.height/2),o=Math.round(t.bounds.x),l=Math.round(t.bounds.y);switch(e){case 0:i=o,a=l;break;case 1:i=o+n,a=l;break;case 2:i=o,a=l+s;break;case 3:i=o+n,a=l+s}return h({x:i,y:a,width:n,height:s},r,t.maxElements,t.maxLevel)}function o(e,t,a){if(a.level<a.maxLevel)for(var n=r(t,a.corners),l=0,d=n.length;d>l;l++)a.nodes[n[l]]===i&&(a.nodes[n[l]]=s(n[l],a)),o(e,t,a.nodes[n[l]]);else a.elements.push(e)}function l(e,t){if(t.level<t.maxLevel){var r=a(e,t.bounds);return t.nodes[r]!==i?l(e,t.nodes[r]):[]}return t.elements}function d(e,t,a,r){if(r=r||{},t.level<t.maxLevel)for(var n=a(e,t.corners),s=0,o=n.length;o>s;s++)t.nodes[n[s]]!==i&&d(e,t.nodes[n[s]],a,r);else for(var l=0,h=t.elements.length;h>l;l++)r[t.elements[l].id]===i&&(r[t.elements[l].id]=t.elements[l]);return r}function h(e,t,i,a){return{level:t||0,bounds:e,corners:c.splitSquare(e),maxElements:i||20,maxLevel:a||4,elements:[],nodes:[]}}var c={pointToSquare:function(e){return{x1:e.x-e.size,y1:e.y-e.size,x2:e.x+e.size,y2:e.y-e.size,height:2*e.size}},isAxisAligned:function(e){return e.x1===e.x2||e.y1===e.y2},axisAlignedTopPoints:function(e){return e.y1===e.y2&&e.x1<e.x2?e:e.x1===e.x2&&e.y2>e.y1?{x1:e.x1-e.height,y1:e.y1,x2:e.x1,y2:e.y1,height:e.height}:e.x1===e.x2&&e.y2<e.y1?{x1:e.x1,y1:e.y2,x2:e.x2+e.height,y2:e.y2,height:e.height}:{x1:e.x2,y1:e.y1-e.height,x2:e.x1,y2:e.y1-e.height,height:e.height}},lowerLeftCoor:function(e){var t=Math.sqrt(Math.pow(e.x2-e.x1,2)+Math.pow(e.y2-e.y1,2));return{x:e.x1-(e.y2-e.y1)*e.height/t,y:e.y1+(e.x2-e.x1)*e.height/t}},lowerRightCoor:function(e,t){return{x:t.x-e.x1+e.x2,y:t.y-e.y1+e.y2}},rectangleCorners:function(e){var t=this.lowerLeftCoor(e),i=this.lowerRightCoor(e,t);return[{x:e.x1,y:e.y1},{x:e.x2,y:e.y2},{x:t.x,y:t.y},{x:i.x,y:i.y}]},splitSquare:function(e){return[[{x:e.x,y:e.y},{x:e.x+e.width/2,y:e.y},{x:e.x,y:e.y+e.height/2},{x:e.x+e.width/2,y:e.y+e.height/2}],[{x:e.x+e.width/2,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width/2,y:e.y+e.height/2},{x:e.x+e.width,y:e.y+e.height/2}],[{x:e.x,y:e.y+e.height/2},{x:e.x+e.width/2,y:e.y+e.height/2},{x:e.x,y:e.y+e.height},{x:e.x+e.width/2,y:e.y+e.height}],[{x:e.x+e.width/2,y:e.y+e.height/2},{x:e.x+e.width,y:e.y+e.height/2},{x:e.x+e.width/2,y:e.y+e.height},{x:e.x+e.width,y:e.y+e.height}]]},axis:function(e,t){return[{x:e[1].x-e[0].x,y:e[1].y-e[0].y},{x:e[1].x-e[3].x,y:e[1].y-e[3].y},{x:t[0].x-t[2].x,y:t[0].y-t[2].y},{x:t[0].x-t[1].x,y:t[0].y-t[1].y}]},projection:function(e,t){var i=(e.x*t.x+e.y*t.y)/(Math.pow(t.x,2)+Math.pow(t.y,2));return{x:i*t.x,y:i*t.y}},axisCollision:function(e,t,i){for(var a=[],r=[],n=0;4>n;n++){var s=this.projection(t[n],e),o=this.projection(i[n],e);a.push(s.x*e.x+s.y*e.y),r.push(o.x*e.x+o.y*e.y)}var l=Math.max.apply(Math,a),d=Math.max.apply(Math,r),h=Math.min.apply(Math,a),c=Math.min.apply(Math,r);return l>=c&&d>=h},collision:function(e,t){for(var i=this.axis(e,t),a=!0,r=0;4>r;r++)a*=this.axisCollision(i[r],e,t);return!!a}},u=function(){this._geom=c,this._tree=null,this._cache={query:!1,result:!1}};u.prototype.index=function(e,t){if(!t.bounds)throw"sigma.classes.quad.index: bounds information not given.";var i=t.prefix||"";this._tree=h(t.bounds,0,t.maxElements,t.maxLevel);for(var a=0,r=e.length;r>a;a++)o(e[a],c.pointToSquare({x:e[a][i+"x"],y:e[a][i+"y"],size:e[a][i+"size"]}),this._tree);return this._cache={query:!1,result:!1},this._tree},u.prototype.point=function(e,t){return this._tree?l({x:e,y:t},this._tree)||[]:[]},u.prototype.area=function(e){var t,i,a=JSON.stringify(e);if(this._cache.query===a)return this._cache.result;c.isAxisAligned(e)?(t=r,i=c.axisAlignedTopPoints(e)):(t=n,i=c.rectangleCorners(e));var s=this._tree?d(i,this._tree,t):[],o=[];for(var l in s)o.push(s[l]);return this._cache.query=a,this._cache.result=o,o},"undefined"!=typeof this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.quad=u):"undefined"!=typeof t?("undefined"!=typeof e&&e.exports&&(t=e.exports=u),t.quad=u):this.quad=u}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.captors"),sigma.captors.mouse=function(e,t,i){function a(e){var t,i,a;return A("mouseEnabled")&&v.dispatchEvent("mousemove",{x:sigma.utils.getX(e)-e.target.width/2,y:sigma.utils.getY(e)-e.target.height/2}),A("mouseEnabled")&&p?(y=!0,x&&clearTimeout(x),x=setTimeout(function(){y=!1},A("dragTimeout")),sigma.misc.animation.killAll(w),w.isMoving=!0,a=w.cameraPosition(sigma.utils.getX(e)-f,sigma.utils.getY(e)-m,!0),t=h-a.x,i=c-a.y,(t!==w.x||i!==w.y)&&(u=w.x,g=w.y,w.goTo({x:t,y:i})),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1):void 0}function r(e){if(A("mouseEnabled")&&p){p=!1,x&&clearTimeout(x),w.isMoving=!1;var t=sigma.utils.getX(e),i=sigma.utils.getY(e);y?(sigma.misc.animation.killAll(w),sigma.misc.animation.camera(w,{x:w.x+A("mouseInertiaRatio")*(w.x-u),y:w.y+A("mouseInertiaRatio")*(w.y-g)},{easing:"quadraticOut",duration:A("mouseInertiaDuration")})):(f!==t||m!==i)&&w.goTo({x:w.x,y:w.y}),v.dispatchEvent("mouseup",{x:t-e.target.width/2,y:i-e.target.height/2}),y=!1}}function n(e){A("mouseEnabled")&&(p=!0,h=w.x,c=w.y,u=w.x,g=w.y,f=sigma.utils.getX(e),m=sigma.utils.getY(e),v.dispatchEvent("mouseup",{x:f-e.target.width/2,y:m-e.target.height/2}))}function s(){A("mouseEnabled")&&v.dispatchEvent("mouseout")}function o(e){return A("mouseEnabled")&&v.dispatchEvent("click",{x:sigma.utils.getX(e)-e.target.width/2,y:sigma.utils.getY(e)-e.target.height/2}),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1}function l(e){var t,i,a,r;return A("mouseEnabled")?(a=1/A("doubleClickZoomingRatio"),r=Math.max(A("zoomMin"),Math.min(A("zoomMax"),w.ratio*a)),a=r/w.ratio,r!==w.ratio&&(i=sigma.misc.animation.killAll(w),t=w.cameraPosition(sigma.utils.getX(e)-e.target.width/2,sigma.utils.getY(e)-e.target.height/2,!0),sigma.misc.animation.camera(w,{x:t.x*(1-a)+w.x,y:t.y*(1-a)+w.y,ratio:r},{easing:i?"quadraticOut":"quadraticInOut",duration:A("doubleClickZoomDuration")})),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1):void 0}function d(e){var t,i,a,r;return A("mouseEnabled")?(a=sigma.utils.getDelta(e)>0?1/A("zoomingRatio"):A("zoomingRatio"),r=Math.max(A("zoomMin"),Math.min(A("zoomMax"),w.ratio*a)),a=r/w.ratio,r!==w.ratio&&(i=sigma.misc.animation.killAll(w),t=w.cameraPosition(sigma.utils.getX(e)-e.target.width/2,sigma.utils.getY(e)-e.target.height/2,!0),sigma.misc.animation.camera(w,{x:t.x*(1-a)+w.x,y:t.y*(1-a)+w.y,ratio:r},{easing:i?"quadraticOut":"quadraticInOut",duration:A("mouseZoomDuration")})),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1):void 0}var h,c,u,g,f,m,p,y,x,v=this,b=e,w=t,A=i;sigma.classes.dispatcher.extend(this),sigma.utils.doubleClick(b,"click",l),b.addEventListener("DOMMouseScroll",d,!1),b.addEventListener("mousewheel",d,!1),b.addEventListener("mousemove",a,!1),b.addEventListener("mousedown",n,!1),b.addEventListener("click",o,!1),b.addEventListener("mouseout",s,!1),document.addEventListener("mouseup",r,!1)}}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.captors"),sigma.captors.touch=function(e,t,i){function a(e){var t=sigma.utils.getOffset(S);return{x:e.pageX-t.left,y:e.pageY-t.top}}function r(e){if(P("touchEnabled")){var t,i,r,n,s,o;switch(N=e.touches,N.length){case 1:R.isMoving=!0,A=1,l=R.x,d=R.y,u=R.x,g=R.y,s=a(N[0]),p=s.x,y=s.y;break;case 2:return R.isMoving=!0,A=2,s=a(N[0]),o=a(N[1]),t=s.x,r=s.y,i=o.x,n=o.y,u=R.x,g=R.y,h=R.angle,c=R.ratio,l=R.x,d=R.y,p=t,y=r,x=i,v=n,b=Math.atan2(v-y,x-p),w=Math.sqrt(Math.pow(v-y,2)+Math.pow(x-p,2)),e.preventDefault(),!1}}}function n(e){if(P("touchEnabled")){N=e.touches;var t=P("touchInertiaRatio");switch(T&&(E=!1,clearTimeout(T)),A){case 2:if(1===e.touches.length){r(e),e.preventDefault();break}case 1:R.isMoving=!1,M.dispatchEvent("stopDrag"),E&&(_=!1,sigma.misc.animation.camera(R,{x:R.x+t*(R.x-u),y:R.y+t*(R.y-g)},{easing:"quadraticOut",duration:P("touchInertiaDuration")})),E=!1,A=0}}}function s(e){if(!_&&P("touchEnabled")){var t,i,r,n,s,o,S,C,I,O,j,k,F,L,z,B,U;switch(N=e.touches,E=!0,T&&clearTimeout(T),T=setTimeout(function(){E=!1},P("dragTimeout")),A){case 1:C=a(N[0]),t=C.x,r=C.y,O=R.cameraPosition(t-p,r-y,!0),L=l-O.x,z=d-O.y,(L!==R.x||z!==R.y)&&(u=R.x,g=R.y,R.goTo({x:L,y:z}),M.dispatchEvent("drag"));break;case 2:C=a(N[0]),I=a(N[1]),t=C.x,r=C.y,i=I.x,n=I.y,j=R.cameraPosition((p+x)/2-e.target.width/2,(y+v)/2-e.target.height/2,!0),S=R.cameraPosition((t+i)/2-e.target.width/2,(r+n)/2-e.target.height/2,!0),k=Math.atan2(n-r,i-t)-b,F=Math.sqrt(Math.pow(n-r,2)+Math.pow(i-t,2))/w,t=j.x,r=j.y,B=c/F,t*=F,r*=F,U=h-k,s=Math.cos(-k),o=Math.sin(-k),i=t*s+r*o,n=r*s-t*o,t=i,r=n,L=t-S.x+l,z=r-S.y+d,(B!==R.ratio||U!==R.angle||L!==R.x||z!==R.y)&&(u=R.x,g=R.y,f=R.angle,m=R.ratio,R.goTo({x:L,y:z,angle:U,ratio:B}),M.dispatchEvent("drag"))}return e.preventDefault(),!1}}function o(e){var t,i,r,n;return e.touches&&1===e.touches.length&&P("touchEnabled")?(_=!0,r=1/P("doubleClickZoomingRatio"),n=Math.max(P("zoomMin"),Math.min(P("zoomMax"),R.ratio*r)),r=n/R.ratio,n!==R.ratio&&(i=sigma.misc.animation.killAll(R),t=a(e.touches[0]),t=R.cameraPosition(t.x-e.target.width/2,t.y-e.target.height/2,!0),sigma.misc.animation.camera(R,{x:t.x*(1-r)+R.x,y:t.y*(1-r)+R.y,ratio:n},{easing:i?"quadraticOut":"quadraticInOut",duration:P("doubleClickZoomDuration"),onComplete:function(){_=!1}})),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1):void 0}var l,d,h,c,u,g,f,m,p,y,x,v,b,w,A,E,_,T,M=this,S=e,R=t,P=i,N=[];sigma.classes.dispatcher.extend(this),sigma.utils.doubleClick(S,"touchstart",o),S.addEventListener("touchstart",r),S.addEventListener("touchend",n),S.addEventListener("touchcancel",n),S.addEventListener("touchleave",n),S.addEventListener("touchmove",s)}}.call(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";if("undefined"==typeof conrad)throw"conrad is not declared";sigma.utils.pkg("sigma.renderers"),sigma.renderers.canvas=function(e,t,i,a){if("object"!=typeof a)throw"sigma.renderers.canvas: Wrong arguments.";if(!(a.container instanceof HTMLElement))throw"Container not found.";var r,n,s,o,l=this;for(sigma.classes.dispatcher.extend(this),Object.defineProperty(this,"conradId",{value:sigma.utils.id()}),this.graph=e,this.camera=t,this.contexts={},this.domElements={},this.options=a,this.container=this.options.container,this.settings="object"==typeof a.settings&&a.settings?i.embedObjects(a.settings):i,this.nodesOnScreen=[],this.edgesOnScreen=[],this.jobs={},this.options.prefix="renderer"+this.conradId+":",this.settings("batchEdgesDrawing")?(this.initDOM("canvas","edges"),this.initDOM("canvas","scene"),this.contexts.nodes=this.contexts.scene,this.contexts.labels=this.contexts.scene):(this.initDOM("canvas","scene"),this.contexts.edges=this.contexts.scene,this.contexts.nodes=this.contexts.scene,this.contexts.labels=this.contexts.scene),this.initDOM("canvas","mouse"),this.contexts.hover=this.contexts.mouse,this.captors=[],s=this.options.captors||[sigma.captors.mouse,sigma.captors.touch],r=0,n=s.length;n>r;r++)o="function"==typeof s[r]?s[r]:sigma.captors[s[r]],this.captors.push(new o(this.domElements.mouse,this.camera,this.settings));window.addEventListener("resize",function(){l.resize()}),sigma.misc.bindEvents.call(this,this.options.prefix),sigma.misc.drawHovers.call(this,this.options.prefix),this.resize(!1)},sigma.renderers.canvas.prototype.render=function(t){t=t||{};var i,a,r,n,s,o,l,d,h,c,u,g,f={},m=this.graph,p=(this.options.prefix||"",this.settings(t,"drawEdges")),y=this.settings(t,"drawNodes"),x=this.settings(t,"drawLabels"),v=this.settings.embedObjects(t,{prefix:this.options.prefix});this.settings(t,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(p=!1),this.camera.applyView(e,this.options.prefix,{width:this.width,height:this.height}),this.clear();for(r in this.jobs)conrad.hasJob(r)&&conrad.killJob(r);for(this.edgesOnScreen=[],this.nodesOnScreen=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),i=this.nodesOnScreen,a=0,n=i.length;n>a;a++)f[i[a].id]=i[a];if(p){for(i=m.edges(),a=0,n=i.length;n>a;a++)s=i[a],(f[s.source]||f[s.target])&&this.edgesOnScreen.push(s);if(this.settings(t,"batchEdgesDrawing"))o="edges_"+this.conradId,g=v("canvasEdgesBatchSize"),c=this.edgesOnScreen,n=c.length,h=0,l=Math.min(c.length,h+g),d=function(){for(u=sigma.canvas.edges,a=h;l>a;a++)s=c[a],(u[s.type]||u.def)(s,m.nodes(s.source),m.nodes(s.target),this.contexts.edges,v);return l===c.length?(delete this.jobs[o],!1):(h=l+1,l=Math.min(c.length,h+g),!0)},this.jobs[o]=d,conrad.addJob(o,d.bind(this));else for(u=sigma.canvas.edges,i=this.edgesOnScreen,a=0,n=i.length;n>a;a++)s=i[a],(u[s.type]||u.def)(s,m.nodes(s.source),m.nodes(s.target),this.contexts.edges,v)}if(y)for(u=sigma.canvas.nodes,i=this.nodesOnScreen,a=0,n=i.length;n>a;a++)(u[i[a].type]||u.def)(i[a],this.contexts.nodes,v);if(x)for(u=sigma.canvas.labels,i=this.nodesOnScreen,a=0,n=i.length;n>a;a++)(u[i[a].type]||u.def)(i[a],this.contexts.labels,v);return this.dispatchEvent("render"),this},sigma.renderers.canvas.prototype.initDOM=function(e,t){var i=document.createElement(e);i.style.position="absolute",i.setAttribute("class","sigma-"+t),this.domElements[t]=i,this.container.appendChild(i),"canvas"===e.toLowerCase()&&(this.contexts[t]=i.getContext("2d"))},sigma.renderers.canvas.prototype.resize=function(t,i){var a,r=this.width,n=this.height,s=1;if(t!==e&&i!==e?(this.width=t,this.height=i):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,t=this.width,i=this.height),r!==this.width||n!==this.height)for(a in this.domElements)this.domElements[a].style.width=t+"px",this.domElements[a].style.height=i+"px","canvas"===this.domElements[a].tagName.toLowerCase()&&(this.domElements[a].setAttribute("width",t*s+"px"),this.domElements[a].setAttribute("height",i*s+"px"),1!==s&&this.contexts[a].scale(s,s));return this},sigma.renderers.canvas.prototype.clear=function(){var e;for(e in this.domElements)"CANVAS"===this.domElements[e].tagName&&(this.domElements[e].width=this.domElements[e].width);return this},sigma.utils.pkg("sigma.canvas.nodes"),sigma.utils.pkg("sigma.canvas.edges"),sigma.utils.pkg("sigma.canvas.labels")}.call(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.renderers"),sigma.renderers.webgl=function(e,t,i,a){if("object"!=typeof a)throw"sigma.renderers.webgl: Wrong arguments.";if(!(a.container instanceof HTMLElement))throw"Container not found.";var r,n,s,o,l=this;for(sigma.classes.dispatcher.extend(this),this.jobs={},Object.defineProperty(this,"conradId",{value:sigma.utils.id()}),this.graph=e,this.camera=t,this.contexts={},this.domElements={},this.options=a,this.container=this.options.container,this.settings="object"==typeof a.settings&&a.settings?i.embedObjects(a.settings):i,this.options.prefix=this.camera.readPrefix,Object.defineProperty(this,"nodePrograms",{value:{}}),Object.defineProperty(this,"edgePrograms",{value:{}}),Object.defineProperty(this,"nodeFloatArrays",{value:{}}),Object.defineProperty(this,"edgeFloatArrays",{value:{}}),this.initDOM("canvas","scene",!0),this.initDOM("canvas","labels"),this.initDOM("canvas","mouse"),this.contexts.hover=this.contexts.mouse,this.contexts.nodes=this.contexts.scene,this.contexts.edges=this.contexts.scene,this.captors=[],s=this.options.captors||[sigma.captors.mouse,sigma.captors.touch],r=0,n=s.length;n>r;r++)o="function"==typeof s[r]?s[r]:sigma.captors[s[r]],this.captors.push(new o(this.domElements.mouse,this.camera,this.settings));window.addEventListener("resize",function(){l.resize()}),sigma.misc.bindEvents.call(this,this.camera.prefix),sigma.misc.drawHovers.call(this,this.camera.prefix),this.resize()},sigma.renderers.webgl.prototype.process=function(){var e,t,i,a,r,n=this.graph,s=sigma.utils.extend(s,this.options);for(a in this.nodeFloatArrays)delete this.nodeFloatArrays[a];for(a in this.edgeFloatArrays)delete this.edgeFloatArrays[a];for(e=n.edges(),t=0,i=e.length;i>t;t++)a=e[t].type&&sigma.webgl.edges[e[t].type]?e[t].type:"def",this.edgeFloatArrays[a]||(this.edgeFloatArrays[a]={edges:[]}),this.edgeFloatArrays[a].edges.push(e[t]);for(e=n.nodes(),t=0,i=e.length;i>t;t++)a=e[t].type&&sigma.webgl.nodes[e[t].type]?a:"def",this.nodeFloatArrays[a]||(this.nodeFloatArrays[a]={nodes:[]}),this.nodeFloatArrays[a].nodes.push(e[t]);for(a in this.edgeFloatArrays)for(r=sigma.webgl.edges[a],e=this.edgeFloatArrays[a].edges,t=0,i=e.length;i>t;t++)this.edgeFloatArrays[a].array||(this.edgeFloatArrays[a].array=new Float32Array(e.length*r.POINTS*r.ATTRIBUTES)),r.addEdge(e[t],n.nodes(e[t].source),n.nodes(e[t].target),this.edgeFloatArrays[a].array,t*r.POINTS*r.ATTRIBUTES,s.prefix,this.settings);for(a in this.nodeFloatArrays)for(r=sigma.webgl.nodes[a],e=this.nodeFloatArrays[a].nodes,t=0,i=e.length;i>t;t++)this.nodeFloatArrays[a].array||(this.nodeFloatArrays[a].array=new Float32Array(e.length*r.POINTS*r.ATTRIBUTES)),r.addNode(e[t],this.nodeFloatArrays[a].array,t*r.POINTS*r.ATTRIBUTES,s.prefix,this.settings);return this},sigma.renderers.webgl.prototype.render=function(t){var i,a,r,n,s,o,l=this,d=(this.graph,this.contexts.nodes),h=this.contexts.edges,c=this.camera.getMatrix(),u=sigma.utils.extend(t,this.options),g=this.settings(u,"drawLabels"),f=this.settings(u,"drawEdges"),m=this.settings(u,"drawNodes");this.settings(u,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(f=!1),this.clear(),c=sigma.utils.matrices.multiply(c,sigma.utils.matrices.translation(this.width/2,this.height/2));for(n in this.jobs)conrad.hasJob(n)&&conrad.killJob(n);if(f)if(this.settings(u,"batchEdgesDrawing"))(function(){var e,t,i,a,r,n,s,o,l;i="edges_"+this.conradId,l=this.settings(u,"webglEdgesBatchSize"),e=Object.keys(this.edgeFloatArrays),e.length&&(t=0,o=sigma.webgl.edges[e[t]],r=this.edgeFloatArrays[e[t]].array,s=0,n=Math.min(s+l*o.POINTS,r.length/o.ATTRIBUTES),a=function(){return this.edgePrograms[e[t]]||(this.edgePrograms[e[t]]=o.initProgram(h)),n>s&&(h.useProgram(this.edgePrograms[e[t]]),o.render(h,this.edgePrograms[e[t]],r,{settings:this.settings,matrix:c,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings("webglOversamplingRatio"),start:s,count:n-s})),n>=r.length/o.ATTRIBUTES&&t===e.length-1?(delete this.jobs[i],!1):(n>=r.length/o.ATTRIBUTES?(t++,r=this.edgeFloatArrays[e[t]].array,o=sigma.webgl.edges[e[t]],s=0,n=Math.min(s+l*o.POINTS,r.length/o.ATTRIBUTES)):(s=n,n=Math.min(s+l*o.POINTS,r.length/o.ATTRIBUTES)),!0)},this.jobs[i]=a,conrad.addJob(i,a.bind(this)))}).call(this);else for(n in this.edgeFloatArrays)o=sigma.webgl.edges[n],this.edgePrograms[n]||(this.edgePrograms[n]=o.initProgram(h)),this.edgeFloatArrays[n]&&(h.useProgram(this.edgePrograms[n]),o.render(h,this.edgePrograms[n],this.edgeFloatArrays[n].array,{settings:this.settings,matrix:c,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings("webglOversamplingRatio")}));if(m){d.blendFunc(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA),d.enable(d.BLEND);for(n in this.nodeFloatArrays)o=sigma.webgl.nodes[n],this.nodePrograms[n]||(this.nodePrograms[n]=o.initProgram(d)),this.nodeFloatArrays[n]&&(d.useProgram(this.nodePrograms[n]),o.render(d,this.nodePrograms[n],this.nodeFloatArrays[n].array,{settings:this.settings,matrix:c,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings("webglOversamplingRatio")}))}if(g)for(i=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),this.camera.applyView(e,e,{nodes:i,edges:[],width:this.width,height:this.height}),s=function(e){return l.settings({prefix:l.camera.prefix},e)},a=0,r=i.length;r>a;a++)(sigma.canvas.labels[i[a].type]||sigma.canvas.labels.def)(i[a],this.contexts.labels,s);return this.dispatchEvent("render"),this},sigma.renderers.webgl.prototype.initDOM=function(e,t,i){var a=document.createElement(e);a.style.position="absolute",a.setAttribute("class","sigma-"+t),this.domElements[t]=a,this.container.appendChild(a),"canvas"===e.toLowerCase()&&(this.contexts[t]=a.getContext(i?"experimental-webgl":"2d",{preserveDrawingBuffer:!0}))},sigma.renderers.webgl.prototype.resize=function(t,i){var a,r=this.width,n=this.height;if(t!==e&&i!==e?(this.width=t,this.height=i):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,t=this.width,i=this.height),r!==this.width||n!==this.height)for(a in this.domElements)this.domElements[a].style.width=t+"px",this.domElements[a].style.height=i+"px","canvas"===this.domElements[a].tagName.toLowerCase()&&(this.contexts[a]&&this.contexts[a].scale?(this.domElements[a].setAttribute("width",t+"px"),this.domElements[a].setAttribute("height",i+"px")):(this.domElements[a].setAttribute("width",t*this.settings("webglOversamplingRatio")+"px"),this.domElements[a].setAttribute("height",i*this.settings("webglOversamplingRatio")+"px")));for(a in this.contexts)this.contexts[a]&&this.contexts[a].viewport&&this.contexts[a].viewport(0,0,this.width*this.settings("webglOversamplingRatio"),this.height*this.settings("webglOversamplingRatio"));return this},sigma.renderers.webgl.prototype.clear=function(){var e;for(e in this.domElements)"CANVAS"===this.domElements[e].tagName&&(this.domElements[e].width=this.domElements[e].width);return this.contexts.nodes.clear(this.contexts.nodes.COLOR_BUFFER_BIT),this.contexts.edges.clear(this.contexts.edges.COLOR_BUFFER_BIT),this},sigma.utils.pkg("sigma.webgl.nodes"),sigma.utils.pkg("sigma.webgl.edges"),sigma.utils.pkg("sigma.canvas.labels")}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.renderers");var e,t=!!window.WebGLRenderingContext;t&&(e=document.createElement("canvas"),t=!(!e.getContext("webgl")&&!e.getContext("experimental-webgl"))),sigma.renderers.def=t?sigma.renderers.webgl:sigma.renderers.canvas}.call(this),function(){"use strict";sigma.utils.pkg("sigma.webgl.nodes"),sigma.webgl.nodes.def={POINTS:3,ATTRIBUTES:5,addNode:function(e,t,i,a,r){var n=sigma.utils.floatColor(e.color||r("defaultNodeColor"));t[i++]=e[a+"x"],t[i++]=e[a+"y"],t[i++]=e[a+"size"],t[i++]=n,t[i++]=0,t[i++]=e[a+"x"],t[i++]=e[a+"y"],t[i++]=e[a+"size"],t[i++]=n,t[i++]=2*Math.PI/3,t[i++]=e[a+"x"],t[i++]=e[a+"y"],t[i++]=e[a+"size"],t[i++]=n,t[i++]=4*Math.PI/3},render:function(e,t,i,a){var r,n=e.getAttribLocation(t,"a_position"),s=e.getAttribLocation(t,"a_size"),o=e.getAttribLocation(t,"a_color"),l=e.getAttribLocation(t,"a_angle"),d=e.getUniformLocation(t,"u_resolution"),h=e.getUniformLocation(t,"u_matrix"),c=e.getUniformLocation(t,"u_ratio"),u=e.getUniformLocation(t,"u_scale");r=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,i,e.DYNAMIC_DRAW),e.uniform2f(d,a.width,a.height),e.uniform1f(c,1/Math.pow(a.ratio,a.settings("nodesPowRatio"))),e.uniform1f(u,a.scalingRatio),e.uniformMatrix3fv(h,!1,a.matrix),e.enableVertexAttribArray(n),e.enableVertexAttribArray(s),e.enableVertexAttribArray(o),e.enableVertexAttribArray(l),e.vertexAttribPointer(n,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(s,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(o,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,12),e.vertexAttribPointer(l,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),e.drawArrays(e.TRIANGLES,a.start||0,a.count||i.length/this.ATTRIBUTES)},initProgram:function(e){var t,i,a;return t=sigma.utils.loadShader(e,["attribute vec2 a_position;","attribute float a_size;","attribute float a_color;","attribute float a_angle;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","varying vec4 color;","varying vec2 center;","varying float radius;","void main() {","radius = a_size * u_ratio;","vec2 position = (u_matrix * vec3(a_position, 1)).xy;","center = position * u_scale;","center = vec2(center.x, u_scale * u_resolution.y - center.y);","position = position +","2.0 * radius * vec2(cos(a_angle), sin(a_angle));","position = (position / u_resolution * 2.0 - 1.0) * vec2(1, -1);","radius = radius * u_scale;","gl_Position = vec4(position, 0, 1);","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),e.VERTEX_SHADER),i=sigma.utils.loadShader(e,["precision mediump float;","varying vec4 color;","varying vec2 center;","varying float radius;","void main(void) {","vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);","vec2 m = gl_FragCoord.xy - center;","float diff = radius - sqrt(m.x * m.x + m.y * m.y);","if (diff > 0.0)","gl_FragColor = color;","else","gl_FragColor = color0;","}"].join("\n"),e.FRAGMENT_SHADER),a=sigma.utils.loadProgram(e,[t,i])
}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.nodes"),sigma.webgl.nodes.fast={POINTS:1,ATTRIBUTES:4,addNode:function(e,t,i,a,r){t[i++]=e[a+"x"],t[i++]=e[a+"y"],t[i++]=e[a+"size"],t[i++]=sigma.utils.floatColor(e.color||r("defaultNodeColor"))},render:function(e,t,i,a){var r,n=e.getAttribLocation(t,"a_position"),s=e.getAttribLocation(t,"a_size"),o=e.getAttribLocation(t,"a_color"),l=e.getUniformLocation(t,"u_resolution"),d=e.getUniformLocation(t,"u_matrix"),h=e.getUniformLocation(t,"u_ratio"),c=e.getUniformLocation(t,"u_scale");r=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,i,e.DYNAMIC_DRAW),e.uniform2f(l,a.width,a.height),e.uniform1f(h,1/Math.pow(a.ratio,a.settings("nodesPowRatio"))),e.uniform1f(c,a.scalingRatio),e.uniformMatrix3fv(d,!1,a.matrix),e.enableVertexAttribArray(n),e.enableVertexAttribArray(s),e.enableVertexAttribArray(o),e.vertexAttribPointer(n,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(s,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(o,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,12),e.drawArrays(e.POINTS,a.start||0,a.count||i.length/this.ATTRIBUTES)},initProgram:function(e){var t,i,a;return t=sigma.utils.loadShader(e,["attribute vec2 a_position;","attribute float a_size;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","varying vec4 color;","void main() {","gl_Position = vec4(","((u_matrix * vec3(a_position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","gl_PointSize = a_size * u_ratio * u_scale * 2.0;","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),e.VERTEX_SHADER),i=sigma.utils.loadShader(e,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),e.FRAGMENT_SHADER),a=sigma.utils.loadProgram(e,[t,i])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.edges"),sigma.webgl.edges.def={POINTS:6,ATTRIBUTES:7,addEdge:function(e,t,i,a,r,n,s){var o=(e[n+"size"]||1)/2,l=t[n+"x"],d=t[n+"y"],h=i[n+"x"],c=i[n+"y"],u=e.color;if(!u)switch(s("edgeColor")){case"source":u=t.color||s("defaultNodeColor");break;case"target":u=i.color||s("defaultNodeColor");break;default:u=s("defaultEdgeColor")}u=sigma.utils.floatColor(u),a[r++]=l,a[r++]=d,a[r++]=h,a[r++]=c,a[r++]=o,a[r++]=0,a[r++]=u,a[r++]=h,a[r++]=c,a[r++]=l,a[r++]=d,a[r++]=o,a[r++]=1,a[r++]=u,a[r++]=h,a[r++]=c,a[r++]=l,a[r++]=d,a[r++]=o,a[r++]=0,a[r++]=u,a[r++]=h,a[r++]=c,a[r++]=l,a[r++]=d,a[r++]=o,a[r++]=0,a[r++]=u,a[r++]=l,a[r++]=d,a[r++]=h,a[r++]=c,a[r++]=o,a[r++]=1,a[r++]=u,a[r++]=l,a[r++]=d,a[r++]=h,a[r++]=c,a[r++]=o,a[r++]=0,a[r++]=u},render:function(e,t,i,a){var r,n=e.getAttribLocation(t,"a_color"),s=e.getAttribLocation(t,"a_position1"),o=e.getAttribLocation(t,"a_position2"),l=e.getAttribLocation(t,"a_thickness"),d=e.getAttribLocation(t,"a_minus"),h=e.getUniformLocation(t,"u_resolution"),c=e.getUniformLocation(t,"u_matrix"),u=e.getUniformLocation(t,"u_matrixHalfPi"),g=e.getUniformLocation(t,"u_matrixHalfPiMinus"),f=e.getUniformLocation(t,"u_ratio"),m=e.getUniformLocation(t,"u_scale");r=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,i,e.STATIC_DRAW),e.uniform2f(h,a.width,a.height),e.uniform1f(f,a.ratio/Math.pow(a.ratio,a.settings("edgesPowRatio"))),e.uniform1f(m,a.scalingRatio),e.uniformMatrix3fv(c,!1,a.matrix),e.uniformMatrix2fv(u,!1,sigma.utils.matrices.rotation(Math.PI/2,!0)),e.uniformMatrix2fv(g,!1,sigma.utils.matrices.rotation(-Math.PI/2,!0)),e.enableVertexAttribArray(n),e.enableVertexAttribArray(s),e.enableVertexAttribArray(o),e.enableVertexAttribArray(l),e.enableVertexAttribArray(d),e.vertexAttribPointer(s,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(o,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(l,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),e.vertexAttribPointer(d,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,20),e.vertexAttribPointer(n,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,24),e.drawArrays(e.TRIANGLES,a.start||0,a.count||i.length/this.ATTRIBUTES)},initProgram:function(e){var t,i,a;return t=sigma.utils.loadShader(e,["attribute vec2 a_position1;","attribute vec2 a_position2;","attribute float a_thickness;","attribute float a_minus;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","uniform mat2 u_matrixHalfPi;","uniform mat2 u_matrixHalfPiMinus;","varying vec4 color;","void main() {","vec2 position = a_thickness * u_ratio *","normalize(a_position2 - a_position1);","mat2 matrix = a_minus * u_matrixHalfPiMinus +","(1.0 - a_minus) * u_matrixHalfPi;","position = matrix * position + a_position1;","gl_Position = vec4(","((u_matrix * vec3(position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),e.VERTEX_SHADER),i=sigma.utils.loadShader(e,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),e.FRAGMENT_SHADER),a=sigma.utils.loadProgram(e,[t,i])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.edges"),sigma.webgl.edges.fast={POINTS:2,ATTRIBUTES:3,addEdge:function(e,t,i,a,r,n,s){var o=((e[n+"size"]||1)/2,t[n+"x"]),l=t[n+"y"],d=i[n+"x"],h=i[n+"y"],c=e.color;if(!c)switch(s("edgeColor")){case"source":c=t.color||s("defaultNodeColor");break;case"target":c=i.color||s("defaultNodeColor");break;default:c=s("defaultEdgeColor")}c=sigma.utils.floatColor(c),a[r++]=o,a[r++]=l,a[r++]=c,a[r++]=d,a[r++]=h,a[r++]=c},render:function(e,t,i,a){var r,n=e.getAttribLocation(t,"a_color"),s=e.getAttribLocation(t,"a_position"),o=e.getUniformLocation(t,"u_resolution"),l=e.getUniformLocation(t,"u_matrix");r=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,i,e.DYNAMIC_DRAW),e.uniform2f(o,a.width,a.height),e.uniformMatrix3fv(l,!1,a.matrix),e.enableVertexAttribArray(s),e.enableVertexAttribArray(n),e.vertexAttribPointer(s,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(n,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),e.lineWidth(3),e.drawArrays(e.LINES,a.start||0,a.count||i.length/this.ATTRIBUTES)},initProgram:function(e){var t,i,a;return t=sigma.utils.loadShader(e,["attribute vec2 a_position;","attribute float a_color;","uniform vec2 u_resolution;","uniform mat3 u_matrix;","varying vec4 color;","void main() {","gl_Position = vec4(","((u_matrix * vec3(a_position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),e.VERTEX_SHADER),i=sigma.utils.loadShader(e,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),e.FRAGMENT_SHADER),a=sigma.utils.loadProgram(e,[t,i])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.edges"),sigma.webgl.edges.arrow={POINTS:9,ATTRIBUTES:11,addEdge:function(e,t,i,a,r,n,s){var o=(e[n+"size"]||1)/2,l=t[n+"x"],d=t[n+"y"],h=i[n+"x"],c=i[n+"y"],u=i[n+"size"],g=e.color;if(!g)switch(s("edgeColor")){case"source":g=t.color||s("defaultNodeColor");break;case"target":g=i.color||s("defaultNodeColor");break;default:g=s("defaultEdgeColor")}g=sigma.utils.floatColor(g),a[r++]=l,a[r++]=d,a[r++]=h,a[r++]=c,a[r++]=o,a[r++]=u,a[r++]=0,a[r++]=0,a[r++]=0,a[r++]=0,a[r++]=g,a[r++]=h,a[r++]=c,a[r++]=l,a[r++]=d,a[r++]=o,a[r++]=u,a[r++]=1,a[r++]=1,a[r++]=0,a[r++]=0,a[r++]=g,a[r++]=h,a[r++]=c,a[r++]=l,a[r++]=d,a[r++]=o,a[r++]=u,a[r++]=1,a[r++]=0,a[r++]=0,a[r++]=0,a[r++]=g,a[r++]=h,a[r++]=c,a[r++]=l,a[r++]=d,a[r++]=o,a[r++]=u,a[r++]=1,a[r++]=0,a[r++]=0,a[r++]=0,a[r++]=g,a[r++]=l,a[r++]=d,a[r++]=h,a[r++]=c,a[r++]=o,a[r++]=u,a[r++]=0,a[r++]=1,a[r++]=0,a[r++]=0,a[r++]=g,a[r++]=l,a[r++]=d,a[r++]=h,a[r++]=c,a[r++]=o,a[r++]=u,a[r++]=0,a[r++]=0,a[r++]=0,a[r++]=0,a[r++]=g,a[r++]=h,a[r++]=c,a[r++]=l,a[r++]=d,a[r++]=o,a[r++]=u,a[r++]=1,a[r++]=0,a[r++]=1,a[r++]=-1,a[r++]=g,a[r++]=h,a[r++]=c,a[r++]=l,a[r++]=d,a[r++]=o,a[r++]=u,a[r++]=1,a[r++]=0,a[r++]=1,a[r++]=0,a[r++]=g,a[r++]=h,a[r++]=c,a[r++]=l,a[r++]=d,a[r++]=o,a[r++]=u,a[r++]=1,a[r++]=0,a[r++]=1,a[r++]=1,a[r++]=g},render:function(e,t,i,a){var r,n=e.getAttribLocation(t,"a_pos1"),s=e.getAttribLocation(t,"a_pos2"),o=e.getAttribLocation(t,"a_thickness"),l=e.getAttribLocation(t,"a_tSize"),d=e.getAttribLocation(t,"a_delay"),h=e.getAttribLocation(t,"a_minus"),c=e.getAttribLocation(t,"a_head"),u=e.getAttribLocation(t,"a_headPosition"),g=e.getAttribLocation(t,"a_color"),f=e.getUniformLocation(t,"u_resolution"),m=e.getUniformLocation(t,"u_matrix"),p=e.getUniformLocation(t,"u_matrixHalfPi"),y=e.getUniformLocation(t,"u_matrixHalfPiMinus"),x=e.getUniformLocation(t,"u_ratio"),v=e.getUniformLocation(t,"u_nodeRatio"),b=e.getUniformLocation(t,"u_arrowHead"),w=e.getUniformLocation(t,"u_scale");r=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,i,e.STATIC_DRAW),e.uniform2f(f,a.width,a.height),e.uniform1f(x,a.ratio/Math.pow(a.ratio,a.settings("edgesPowRatio"))),e.uniform1f(v,Math.pow(a.ratio,a.settings("nodesPowRatio"))/a.ratio),e.uniform1f(b,5),e.uniform1f(w,a.scalingRatio),e.uniformMatrix3fv(m,!1,a.matrix),e.uniformMatrix2fv(p,!1,sigma.utils.matrices.rotation(Math.PI/2,!0)),e.uniformMatrix2fv(y,!1,sigma.utils.matrices.rotation(-Math.PI/2,!0)),e.enableVertexAttribArray(n),e.enableVertexAttribArray(s),e.enableVertexAttribArray(o),e.enableVertexAttribArray(l),e.enableVertexAttribArray(d),e.enableVertexAttribArray(h),e.enableVertexAttribArray(c),e.enableVertexAttribArray(u),e.enableVertexAttribArray(g),e.vertexAttribPointer(n,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(s,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(o,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),e.vertexAttribPointer(l,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,20),e.vertexAttribPointer(d,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,24),e.vertexAttribPointer(h,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,28),e.vertexAttribPointer(c,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,32),e.vertexAttribPointer(u,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,36),e.vertexAttribPointer(g,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,40),e.drawArrays(e.TRIANGLES,a.start||0,a.count||i.length/this.ATTRIBUTES)},initProgram:function(e){var t,i,a;return t=sigma.utils.loadShader(e,["attribute vec2 a_pos1;","attribute vec2 a_pos2;","attribute float a_thickness;","attribute float a_tSize;","attribute float a_delay;","attribute float a_minus;","attribute float a_head;","attribute float a_headPosition;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_nodeRatio;","uniform float u_arrowHead;","uniform float u_scale;","uniform mat3 u_matrix;","uniform mat2 u_matrixHalfPi;","uniform mat2 u_matrixHalfPiMinus;","varying vec4 color;","void main() {","vec2 pos = normalize(a_pos2 - a_pos1);","mat2 matrix = (1.0 - a_head) *","(","a_minus * u_matrixHalfPiMinus +","(1.0 - a_minus) * u_matrixHalfPi",") + a_head * (","a_headPosition * u_matrixHalfPiMinus * 0.6 +","(a_headPosition * a_headPosition - 1.0) * mat2(1.0)",");","pos = a_pos1 + (","(1.0 - a_head) * a_thickness * u_ratio * matrix * pos +","a_head * u_arrowHead * a_thickness * u_ratio * matrix * pos +","a_delay * pos * (","a_tSize / u_nodeRatio +","u_arrowHead * a_thickness * u_ratio",")",");","gl_Position = vec4(","((u_matrix * vec3(pos, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),e.VERTEX_SHADER),i=sigma.utils.loadShader(e,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),e.FRAGMENT_SHADER),a=sigma.utils.loadProgram(e,[t,i])}}}(),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.labels"),sigma.canvas.labels.def=function(e,t,i){var a,r=i("prefix")||"",n=e[r+"size"];n<i("labelThreshold")||"string"==typeof e.label&&(a="fixed"===i("labelSize")?i("defaultLabelSize"):i("labelSizeRatio")*n,t.font=(i("fontStyle")?i("fontStyle")+" ":"")+a+"px "+i("font"),t.fillStyle="node"===i("labelColor")?e.color||i("defaultNodeColor"):i("defaultLabelColor"),t.fillText(e.label,Math.round(e[r+"x"]+n+3),Math.round(e[r+"y"]+a/3)))}}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.hovers"),sigma.canvas.hovers.def=function(e,t,i){var a,r,n,s,o,l=i("hoverFontStyle")||i("fontStyle"),d=i("prefix")||"",h=e[d+"size"],c="fixed"===i("labelSize")?i("defaultLabelSize"):i("labelSizeRatio")*h;t.font=(l?l+" ":"")+c+"px "+(i("hoverFont")||i("font")),t.beginPath(),t.fillStyle="node"===i("labelHoverBGColor")?e.color||i("defaultNodeColor"):i("defaultHoverLabelBGColor"),i("labelHoverShadow")&&(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=8,t.shadowColor=i("labelHoverShadowColor")),"string"==typeof e.label&&(a=Math.round(e[d+"x"]-c/2-2),r=Math.round(e[d+"y"]-c/2-2),n=Math.round(t.measureText(e.label).width+c/2+h+7),s=Math.round(c+4),o=Math.round(c/2+2),t.moveTo(a,r+o),t.arcTo(a,r,a+o,r,o),t.lineTo(a+n,r),t.lineTo(a+n,r+s),t.lineTo(a+o,r+s),t.arcTo(a,r+s,a,r+s-o,o),t.lineTo(a,r+o),t.closePath(),t.fill(),t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),i("borderSize")>0&&(t.beginPath(),t.fillStyle="node"===i("nodeBorderColor")?e.color||i("defaultNodeColor"):i("defaultNodeBorderColor"),t.arc(e[d+"x"],e[d+"y"],h+i("borderSize"),0,2*Math.PI,!0),t.closePath(),t.fill());var u=sigma.canvas.nodes[e.type]||sigma.canvas.nodes.def;u(e,t,i),"string"==typeof e.label&&(t.fillStyle="node"===i("labelHoverColor")?e.color||i("defaultNodeColor"):i("defaultLabelHoverColor"),t.fillText(e.label,Math.round(e[d+"x"]+h+3),Math.round(e[d+"y"]+c/3)))}}.call(this),function(){"use strict";sigma.utils.pkg("sigma.canvas.nodes"),sigma.canvas.nodes.def=function(e,t,i){var a=i("prefix")||"";t.fillStyle=e.color||i("defaultNodeColor"),t.beginPath(),t.arc(e[a+"x"],e[a+"y"],e[a+"size"],0,2*Math.PI,!0),t.closePath(),t.fill()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.def=function(e,t,i,a,r){var n=e.color,s=r("prefix")||"",o=r("edgeColor"),l=r("defaultNodeColor"),d=r("defaultEdgeColor");if(!n)switch(o){case"source":n=t.color||l;break;case"target":n=i.color||l;break;default:n=d}a.strokeStyle=n,a.lineWidth=e[s+"size"]||1,a.beginPath(),a.moveTo(t[s+"x"],t[s+"y"]),a.lineTo(i[s+"x"],i[s+"y"]),a.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.arrow=function(e,t,i,a,r){var n=e.color,s=r("prefix")||"",o=r("edgeColor"),l=r("defaultNodeColor"),d=r("defaultEdgeColor"),h=e[s+"size"]||1,c=i[s+"size"],u=t[s+"x"],g=t[s+"y"],f=i[s+"x"],m=i[s+"y"],p=2.5*h,y=Math.sqrt(Math.pow(f-u,2)+Math.pow(m-g,2)),x=u+(f-u)*(y-p-c)/y,v=g+(m-g)*(y-p-c)/y,b=(f-u)*p/y,w=(m-g)*p/y;if(!n)switch(o){case"source":n=t.color||l;break;case"target":n=i.color||l;break;default:n=d}a.strokeStyle=n,a.lineWidth=h,a.beginPath(),a.moveTo(u,g),a.lineTo(x,v),a.stroke(),a.fillStyle=n,a.beginPath(),a.moveTo(x+b,v+w),a.lineTo(x+.6*w,v-.6*b),a.lineTo(x-.6*w,v+.6*b),a.lineTo(x+b,v+w),a.closePath(),a.fill()}}(),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.middlewares"),sigma.utils.pkg("sigma.utils"),sigma.middlewares.rescale=function(e,t,i){var a,r,n,s,o,l,d,h,c=this.graph.nodes(),u=this.graph.edges(),g=this.settings.embedObjects(i||{}),f=g("bounds")||sigma.utils.getBoundaries(this.graph,e,!0),m=f.minX,p=f.minY,y=f.maxX,x=f.maxY,v=f.sizeMax,b=f.weightMax,w=g("width")||1,A=g("height")||1;for(d="outside"===g("scalingMode")?Math.max(w/Math.max(y-m,1),A/Math.max(x-p,1)):Math.min(w/Math.max(y-m,1),A/Math.max(x-p,1)),h=(g("rescaleIgnoreSize")?0:(g("maxNodeSize")||v)/d)+(g("sideMargin")||0),y+=h,m-=h,x+=h,p-=h,d="outside"===g("scalingMode")?Math.max(w/Math.max(y-m,1),A/Math.max(x-p,1)):Math.min(w/Math.max(y-m,1),A/Math.max(x-p,1)),g("maxNodeSize")||g("minNodeSize")?g("maxNodeSize")===g("minNodeSize")?(n=0,s=g("maxNodeSize")):(n=(g("maxNodeSize")-g("minNodeSize"))/v,s=g("minNodeSize")):(n=1,s=0),g("maxEdgeSize")||g("minEdgeSize")?g("maxEdgeSize")===g("minEdgeSize")?(o=0,l=g("minEdgeSize")):(o=(g("maxEdgeSize")-g("minEdgeSize"))/b,l=g("minEdgeSize")):(o=1,l=0),a=0,r=u.length;r>a;a++)u[a][t+"size"]=u[a][e+"size"]*o+l;for(a=0,r=c.length;r>a;a++)c[a][t+"size"]=c[a][e+"size"]*n+s,c[a][t+"x"]=(c[a][e+"x"]-(y+m)/2)*d,c[a][t+"y"]=(c[a][e+"y"]-(x+p)/2)*d},sigma.utils.getBoundaries=function(e,t,i){var a,r,n=e.edges(),s=e.nodes(),o=-1/0,l=-1/0,d=1/0,h=1/0,c=-1/0,u=-1/0;if(i)for(a=0,r=n.length;r>a;a++)o=Math.max(n[a][t+"size"],o);for(a=0,r=s.length;r>a;a++)l=Math.max(s[a][t+"size"],l),c=Math.max(s[a][t+"x"],c),d=Math.min(s[a][t+"x"],d),u=Math.max(s[a][t+"y"],u),h=Math.min(s[a][t+"y"],h);return o=o||1,l=l||1,{weightMax:o,sizeMax:l,minX:d,minY:h,maxX:c,maxY:u}}}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.middlewares"),sigma.middlewares.copy=function(e,t){var i,a,r;if(t+""!=e+""){for(r=this.graph.nodes(),i=0,a=r.length;a>i;i++)r[i][t+"x"]=r[i][e+"x"],r[i][t+"y"]=r[i][e+"y"],r[i][t+"size"]=r[i][e+"size"];for(r=this.graph.edges(),i=0,a=r.length;a>i;i++)r[i][t+"size"]=r[i][e+"size"]}}}.call(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc.animation.running");var t=function(){var e=0;return function(){return""+ ++e}}();sigma.misc.animation.camera=function(i,a,r){if(!(i instanceof sigma.classes.camera&&"object"==typeof a&&a))throw"animation.camera: Wrong arguments.";if("number"!=typeof a.x&&"number"!=typeof a.y&&"number"!=typeof a.ratio&&"number"!=typeof a.angle)throw"There must be at least one valid coordinate in the given val.";var n,s,o,l,d,h,c=r||{},u=sigma.utils.dateNow();return h={x:i.x,y:i.y,ratio:i.ratio,angle:i.angle},d=c.duration,l="function"!=typeof c.easing?sigma.utils.easings[c.easing||"quadraticInOut"]:c.easing,n=function(){var t,r=c.duration?(sigma.utils.dateNow()-u)/c.duration:1;r>=1?(i.isAnimated=!1,i.goTo({x:a.x!==e?a.x:h.x,y:a.y!==e?a.y:h.y,ratio:a.ratio!==e?a.ratio:h.ratio,angle:a.angle!==e?a.angle:h.angle}),cancelAnimationFrame(s),delete sigma.misc.animation.running[s],"function"==typeof c.onComplete&&c.onComplete()):(t=l(r),i.isAnimated=!0,i.goTo({x:a.x!==e?h.x+(a.x-h.x)*t:h.x,y:a.y!==e?h.y+(a.y-h.y)*t:h.y,ratio:a.ratio!==e?h.ratio+(a.ratio-h.ratio)*t:h.ratio,angle:a.angle!==e?h.angle+(a.angle-h.angle)*t:h.angle}),"function"==typeof c.onNewFrame&&c.onNewFrame(),o.frameId=requestAnimationFrame(n))},s=t(),o={frameId:requestAnimationFrame(n),target:i,type:"camera",options:c,fn:n},sigma.misc.animation.running[s]=o,s},sigma.misc.animation.kill=function(e){if(1!==arguments.length||"number"!=typeof e)throw"animation.kill: Wrong arguments.";var t=sigma.misc.animation.running[e];return t&&(cancelAnimationFrame(e),delete sigma.misc.animation.running[t.frameId],"camera"===t.type&&(t.target.isAnimated=!1),"function"==typeof(t.options||{}).onComplete&&t.options.onComplete()),this},sigma.misc.animation.killAll=function(e){var t,i,a=0,r="string"==typeof e?e:null,n="object"==typeof e?e:null,s=sigma.misc.animation.running;for(i in s)r&&s[i].type!==r||n&&s[i].target!==n||(t=sigma.misc.animation.running[i],cancelAnimationFrame(t.frameId),delete sigma.misc.animation.running[i],"camera"===t.type&&(t.target.isAnimated=!1),a++,"function"==typeof(t.options||{}).onComplete&&t.options.onComplete());return a},sigma.misc.animation.has=function(e){var t,i="string"==typeof e?e:null,a="object"==typeof e?e:null,r=sigma.misc.animation.running;for(t in r)if(!(i&&r[t].type!==i||a&&r[t].target!==a))return!0;return!1}}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc"),sigma.misc.bindEvents=function(e){function t(t){t&&(n="x"in t.data?t.data.x:n,s="y"in t.data?t.data.y:s);var i,a,r,l,d,h,c,u,g=[],f=n+o.width/2,m=s+o.height/2,p=o.camera.cameraPosition(n,s),y=o.camera.quadtree.point(p.x,p.y);if(y.length)for(i=0,r=y.length;r>i;i++)if(l=y[i],d=l[e+"x"],h=l[e+"y"],c=l[e+"size"],f>d-c&&d+c>f&&m>h-c&&h+c>m&&Math.sqrt(Math.pow(f-d,2)+Math.pow(m-h,2))<c){for(u=!1,a=0;a<g.length;a++)if(l.size>g[a].size){g.splice(a,0,l),u=!0;break}u||g.push(l)}return g}function i(e){function i(e){o.settings("eventsEnabled")&&(o.dispatchEvent("click",e.data),n=t(e),n.length?(o.dispatchEvent("clickNode",{node:n[0]}),o.dispatchEvent("clickNodes",{node:n})):o.dispatchEvent("clickStage"))}function a(){if(o.settings("eventsEnabled")){var e,t,i,a=[];for(e in s)a.push(s[e]);for(s={},t=0,i=a.length;i>t;t++)o.dispatchEvent("outNode",{node:a[t]});a.length&&o.dispatchEvent("outNodes",{nodes:a})}}function r(e){if(o.settings("eventsEnabled")){n=t(e);var i,a,r,l=[],d=[],h={},c=n.length;for(i=0;c>i;i++)r=n[i],h[r.id]=r,s[r.id]||(d.push(r),s[r.id]=r);for(a in s)h[a]||(l.push(s[a]),delete s[a]);for(i=0,c=d.length;c>i;i++)o.dispatchEvent("overNode",{node:d[i]});for(i=0,c=l.length;c>i;i++)o.dispatchEvent("outNode",{node:l[i]});d.length&&o.dispatchEvent("overNodes",{nodes:d}),l.length&&o.dispatchEvent("outNodes",{nodes:l})}}var n,s={};e.bind("click",i),e.bind("mouseup",r),e.bind("mousemove",r),e.bind("mouseout",a)}var a,r,n,s,o=this;for(a=0,r=this.captors.length;r>a;a++)i(this.captors[a])}}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc"),sigma.misc.drawHovers=function(e){function t(){i.contexts.hover.canvas.width=i.contexts.hover.canvas.width;var t,r=sigma.canvas.hovers,n=i.settings.embedObjects({prefix:e});if(n("enableHovering"))for(t in a)(r[a[t].type]||r.def)(a[t],i.contexts.hover,n)}var i=this,a={};this.bind("overNodes",function(e){var i,r=e.data.nodes,n=r.length;for(i=0;n>i;i++)a[r[i].id]=r[i];t()}),this.bind("outNodes",function(e){var i,r=e.data.nodes,n=r.length;for(i=0;n>i;i++)delete a[r[i].id];t()}),this.bind("render",function(){t()})}}.call(this)}).call(window)},,,,function(module,exports,__webpack_require__){var jade=__webpack_require__(3);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;buf.push('<div class="jumbotron"><h1>Page <code>'+escape(null==(interp=page)?"":interp)+'</code> not found</h1><p><a href="#home" class="btn btn-primary btn-lg">Back home</a></p></div>')}return buf.join("")}},,,,,,,function(e,t){var i={};t.setFile=function(e,t){i[e]=t},t.readFileSync=function(e){return i[e]||""}},,function(e){e.exports=function(e){var t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)}},function(e,t,i){i(49)(i(35))},function(){!function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";var e=sigma.utils.pkg("sigma.layout.forceatlas2");e.ForceAtlas2=function(t,i){var a=this;this.graph=t,this.p=sigma.utils.extend(i||{},e.defaultSettings),this.state={step:0,index:0},this.init=function(){return a.state={step:0,index:0},a.graph.nodes().forEach(function(e){e.fa2={mass:1+a.graph.degree(e.id),old_dx:0,old_dy:0,dx:0,dy:0}}),a},this.go=function(){for(;a.atomicGo(););},this.atomicGo=function(){var t,i,r,n,s,o,l,d=a.graph,h=d.nodes,c=d.edges,u=h(),g=c(),f=a.p.complexIntervals,m=a.p.simpleIntervals;switch(a.state.step){case 0:for(t=0,n=u.length;n>t;t++)i=u[t],i.fa2=i.fa2?{mass:1+a.graph.degree(i.id),old_dx:i.fa2.dx||0,old_dy:i.fa2.dy||0,dx:0,dy:0}:{mass:1+a.graph.degree(i.id),old_dx:0,old_dy:0,dx:0,dy:0};if(a.p.barnesHutOptimize&&(a.rootRegion=new e.Region(u,0),a.rootRegion.buildSubRegions()),a.p.outboundAttractionDistribution){for(a.p.outboundAttCompensation=0,t=0,n=u.length;n>t;t++)i=u[t],a.p.outboundAttCompensation+=i.fa2.mass;a.p.outboundAttCompensation/=u.length}return a.state.step=1,a.state.index=0,!0;case 1:var p,y,x,v,b,w,A=a.ForceFactory.buildRepulsion(a.p.adjustSizes,a.p.scalingRatio);if(a.p.barnesHutOptimize){for(b=a.rootRegion,w=a.p.barnesHutTheta,t=a.state.index;t<u.length&&t<a.state.index+f;)(i=u[t++]).fa2&&b.applyForce(i,A,w);t===u.length?a.state={step:2,index:0}:a.state.index=t}else{for(x=a.state.index;x<u.length&&x<a.state.index+f;)if((p=u[x++]).fa2)for(v=0;x>v;v++)(y=u[v]).fa2&&A.apply_nn(p,y);x===u.length?a.state={step:2,index:0}:a.state.index=x}return!0;case 2:var E=a.p.strongGravityMode?a.ForceFactory.getStrongGravity(a.p.scalingRatio):a.ForceFactory.buildRepulsion(a.p.adjustSizes,a.p.scalingRatio),_=a.p.gravity,T=a.p.scalingRatio;for(t=a.state.index;t<u.length&&t<a.state.index+m;)i=u[t++],i.fa2&&E.apply_g(i,_/T);return t===u.length?a.state={step:3,index:0}:a.state.index=t,!0;case 3:var M=a.ForceFactory.buildAttraction(a.p.linLogMode,a.p.outboundAttractionDistribution,a.p.adjustSizes,a.p.outboundAttractionDistribution?a.p.outboundAttCompensation:1);if(t=a.state.index,0===a.p.edgeWeightInfluence)for(;t<g.length&&t<a.state.index+f;)r=g[t++],M.apply_nn(h(r.source),h(r.target),1);else if(1===a.p.edgeWeightInfluence)for(;t<g.length&&t<a.state.index+f;)r=g[t++],M.apply_nn(h(r.source),h(r.target),r.weight||1);else for(;t<g.length&&t<a.state.index+f;)r=g[t++],M.apply_nn(h(r.source),h(r.target),Math.pow(r.weight||1,a.p.edgeWeightInfluence));return t===g.length?a.state={step:4,index:0}:a.state.index=t,!0;case 4:var S,R,P=0,N=0;for(t=0,n=u.length;n>t;t++)i=u[t],s=i.fixed||!1,!s&&i.fa2&&(o=Math.sqrt(Math.pow(i.fa2.old_dx-i.fa2.dx,2)+Math.pow(i.fa2.old_dy-i.fa2.dy,2)),P+=i.fa2.mass*o,N+=.5*i.fa2.mass*Math.sqrt(Math.pow(i.fa2.old_dx+i.fa2.dx,2)+Math.pow(i.fa2.old_dy+i.fa2.dy,2)));for(a.p.totalSwinging=P,a.p.totalEffectiveTraction=N,R=Math.pow(a.p.jitterTolerance,2)*a.p.totalEffectiveTraction/a.p.totalSwinging,S=.5,a.p.speed=a.p.speed+Math.min(R-a.p.speed,S*a.p.speed),t=0,n=u.length;n>t;t++)i=u[t],i.old_x=+i.x,i.old_y=+i.y;return a.state.step=5,!0;case 5:var C,I;if(t=a.state.index,a.p.adjustSizes)for(I=a.p.speed;t<u.length&&t<a.state.index+m;)i=u[t++],s=i.fixed||!1,!s&&i.fa2&&(o=Math.sqrt((i.fa2.old_dx-i.fa2.dx)*(i.fa2.old_dx-i.fa2.dx)+(i.fa2.old_dy-i.fa2.dy)*(i.fa2.old_dy-i.fa2.dy)),l=.1*I/(1+I*Math.sqrt(o)),C=Math.sqrt(Math.pow(i.fa2.dx,2)+Math.pow(i.fa2.dy,2)),l=Math.min(l*C,10)/C,i.x+=i.fa2.dx*l,i.y+=i.fa2.dy*l);else for(I=a.p.speed;t<u.length&&t<a.state.index+m;)i=u[t++],s=i.fixed||!1,!s&&i.fa2&&(o=Math.sqrt((i.fa2.old_dx-i.fa2.dx)*(i.fa2.old_dx-i.fa2.dx)+(i.fa2.old_dy-i.fa2.dy)*(i.fa2.old_dy-i.fa2.dy)),l=I/(1+I*Math.sqrt(o)),i.x+=i.fa2.dx*l,i.y+=i.fa2.dy*l);return t===u.length?(a.state={step:0,index:0},!1):(a.state.index=t,!0);default:throw new Error("ForceAtlas2 - atomic state error")}},this.clean=function(){var e,t=this.graph.nodes(),i=t.length;for(e=0;i>e;e++)delete t[e].fa2},this.setAutoSettings=function(){var e=this.graph;return this.p.scalingRatio=e.nodes().length>=100?2:10,this.p.strongGravityMode=!1,this.p.gravity=1,this.p.outboundAttractionDistribution=!1,this.p.linLogMode=!1,this.p.adjustSizes=!1,this.p.edgeWeightInfluence=1,this.p.jitterTolerance=e.nodes().length>=5e4?10:e.nodes().length>=5e3?1:.1,this.p.barnesHutOptimize=e.nodes().length>=1e3?!0:!1,this.p.barnesHutTheta=1.2,this},this.kill=function(){},this.ForceFactory={buildRepulsion:function(e,t){return e?new this.linRepulsion_antiCollision(t):new this.linRepulsion(t)},getStrongGravity:function(e){return new this.strongGravity(e)},buildAttraction:function(e,t,i,a){return i?e?t?new this.logAttraction_degreeDistributed_antiCollision(a):new this.logAttraction_antiCollision(a):t?new this.linAttraction_degreeDistributed_antiCollision(a):new this.linAttraction_antiCollision(a):e?t?new this.logAttraction_degreeDistributed(a):new this.logAttraction(a):t?new this.linAttraction_massDistributed(a):new this.linAttraction(a)},linRepulsion:function(e){this.coefficient=e,this.apply_nn=function(e,t){if(e.fa2&&t.fa2){var i=e.x-t.x,a=e.y-t.y,r=Math.sqrt(i*i+a*a);if(r>0){var n=this.coefficient*e.fa2.mass*t.fa2.mass/Math.pow(r,3);e.fa2.dx+=i*n,e.fa2.dy+=a*n,t.fa2.dx-=i*n,t.fa2.dy-=a*n}}},this.apply_nr=function(e,t){var i=e.x-t.p.massCenterX,a=e.y-t.p.massCenterY,r=Math.sqrt(i*i+a*a);if(r>0){var n=this.coefficient*e.fa2.mass*t.p.mass/Math.pow(r,3);e.fa2.dx+=i*n,e.fa2.dy+=a*n}},this.apply_g=function(e,t){var i=e.x,a=e.y,r=Math.sqrt(i*i+a*a);if(r>0){var n=this.coefficient*e.fa2.mass*t/r;e.fa2.dx-=i*n,e.fa2.dy-=a*n}}},linRepulsion_antiCollision:function(e){this.coefficient=e,this.apply_nn=function(e,t){var i;if(e.fa2&&t.fa2){var a=e.x-t.x,r=e.y-t.y,n=Math.sqrt(a*a+r*r)-e.size-t.size;n>0?(i=this.coefficient*e.fa2.mass*t.fa2.mass/Math.pow(n,3),e.fa2.dx+=a*i,e.fa2.dy+=r*i,t.fa2.dx-=a*i,t.fa2.dy-=r*i):0>n&&(i=100*this.coefficient*e.fa2.mass*t.fa2.mass,e.fa2.dx+=a*i,e.fa2.dy+=r*i,t.fa2.dx-=a*i,t.fa2.dy-=r*i)}},this.apply_nr=function(e,t){var i,a=e.fa2.x()-t.getMassCenterX(),r=e.fa2.y()-t.getMassCenterY(),n=Math.sqrt(a*a+r*r);n>0?(i=this.coefficient*e.fa2.mass*t.getMass()/Math.pow(n,2),e.fa2.dx+=a*i,e.fa2.dy+=r*i):0>n&&(i=-this.coefficient*e.fa2.mass*t.getMass()/n,e.fa2.dx+=a*i,e.fa2.dy+=r*i)},this.apply_g=function(e,t){var i=e.x,a=e.y,r=Math.sqrt(i*i+a*a);if(r>0){var n=this.coefficient*e.fa2.mass*t/r;e.fa2.dx-=i*n,e.fa2.dy-=a*n}}},strongGravity:function(e){this.coefficient=e,this.apply_nn=function(){},this.apply_nr=function(){},this.apply_g=function(e,t){var i=e.x,a=e.y,r=Math.sqrt(i*i+a*a);if(r>0){var n=this.coefficient*e.fa2.mass*t;e.fa2.dx-=i*n,e.fa2.dy-=a*n}}},linAttraction:function(e){this.coefficient=e,this.apply_nn=function(e,t,i){if(e.fa2&&t.fa2){var a=e.x-t.x,r=e.y-t.y,n=-this.coefficient*i;e.fa2.dx+=a*n,e.fa2.dy+=r*n,t.fa2.dx-=a*n,t.fa2.dy-=r*n}}},linAttraction_massDistributed:function(e){this.coefficient=e,this.apply_nn=function(e,t,i){if(e.fa2&&t.fa2){var a=e.x-t.x,r=e.y-t.y,n=-this.coefficient*i/e.fa2.mass;e.fa2.dx+=a*n,e.fa2.dy+=r*n,t.fa2.dx-=a*n,t.fa2.dy-=r*n}}},logAttraction:function(e){this.coefficient=e,this.apply_nn=function(e,t,i){if(e.fa2&&t.fa2){var a=e.x-t.x,r=e.y-t.y,n=Math.sqrt(a*a+r*r);if(n>0){var s=-this.coefficient*i*Math.log(1+n)/n;e.fa2.dx+=a*s,e.fa2.dy+=r*s,t.fa2.dx-=a*s,t.fa2.dy-=r*s}}}},logAttraction_degreeDistributed:function(e){this.coefficient=e,this.apply_nn=function(e,t,i){if(e.fa2&&t.fa2){var a=e.x-t.x,r=e.y-t.y,n=Math.sqrt(a*a+r*r);if(n>0){var s=-this.coefficient*i*Math.log(1+n)/n/e.fa2.mass;e.fa2.dx+=a*s,e.fa2.dy+=r*s,t.fa2.dx-=a*s,t.fa2.dy-=r*s}}}},linAttraction_antiCollision:function(e){this.coefficient=e,this.apply_nn=function(e,t,i){if(e.fa2&&t.fa2){var a=e.x-t.x,r=e.y-t.y,n=Math.sqrt(a*a+r*r);if(n>0){var s=-this.coefficient*i;e.fa2.dx+=a*s,e.fa2.dy+=r*s,t.fa2.dx-=a*s,t.fa2.dy-=r*s}}}},linAttraction_degreeDistributed_antiCollision:function(e){this.coefficient=e,this.apply_nn=function(e,t,i){if(e.fa2&&t.fa2){var a=e.x-t.x,r=e.y-t.y,n=Math.sqrt(a*a+r*r);if(n>0){var s=-this.coefficient*i/e.fa2.mass;e.fa2.dx+=a*s,e.fa2.dy+=r*s,t.fa2.dx-=a*s,t.fa2.dy-=r*s}}}},logAttraction_antiCollision:function(e){this.coefficient=e,this.apply_nn=function(e,t,i){if(e.fa2&&t.fa2){var a=e.x-t.x,r=e.y-t.y,n=Math.sqrt(a*a+r*r);
if(n>0){var s=-this.coefficient*i*Math.log(1+n)/n;e.fa2.dx+=a*s,e.fa2.dy+=r*s,t.fa2.dx-=a*s,t.fa2.dy-=r*s}}}},logAttraction_degreeDistributed_antiCollision:function(e){this.coefficient=e,this.apply_nn=function(e,t,i){if(e.fa2&&t.fa2){var a=e.x-t.x,r=e.y-t.y,n=Math.sqrt(a*a+r*r);if(n>0){var s=-this.coefficient*i*Math.log(1+n)/n/e.fa2.mass;e.fa2.dx+=a*s,e.fa2.dy+=r*s,t.fa2.dx-=a*s,t.fa2.dy-=r*s}}}}}},e.Region=function(e,t){this.depthLimit=20,this.size=0,this.nodes=e,this.subregions=[],this.depth=t,this.p={mass:0,massCenterX:0,massCenterY:0},this.updateMassAndGeometry()},e.Region.prototype.updateMassAndGeometry=function(){if(this.nodes.length>1){var e=0,t=0,i=0;this.nodes.forEach(function(a){e+=a.fa2.mass,t+=a.x*a.fa2.mass,i+=a.y*a.fa2.mass});var a,r=t/e,n=i/e;this.nodes.forEach(function(e){var t=Math.sqrt((e.x-r)*(e.x-r)+(e.y-n)*(e.y-n));a=Math.max(a||2*t,2*t)}),this.p.mass=e,this.p.massCenterX=r,this.p.massCenterY=n,this.size=a}},e.Region.prototype.buildSubRegions=function(){if(this.nodes.length>1){var t,i,a,r,n=[],s=[],o=[],l=this.p.massCenterX,d=this.p.massCenterY,h=this.depth+1,c=this,u=[],g=[],f=[],m=[];this.nodes.forEach(function(e){t=e.x<l?n:s,t.push(e)}),n.forEach(function(e){i=e.y<d?u:g,i.push(e)}),s.forEach(function(e){i=e.y<d?m:f,i.push(e)}),[u,g,f,m].filter(function(e){return e.length}).forEach(function(t){h<=c.depthLimit&&t.length<c.nodes.length?(r=new e.Region(t,h),o.push(r)):t.forEach(function(t){a=[t],r=new e.Region(a,h),o.push(r)})}),this.subregions=o,o.forEach(function(e){e.buildSubRegions()})}},e.Region.prototype.applyForce=function(e,t,i){if(this.nodes.length<2){var a=this.nodes[0];t.apply_nn(e,a)}else{var r=Math.sqrt((e.x-this.p.massCenterX)*(e.x-this.p.massCenterX)+(e.y-this.p.massCenterY)*(e.y-this.p.massCenterY));r*i>this.size?t.apply_nr(e,this):this.subregions.forEach(function(a){a.applyForce(e,t,i)})}},sigma.prototype.startForceAtlas2=function(){function t(){conrad.hasJob("forceatlas2_"+i.id)||conrad.addJob({id:"forceatlas2_"+i.id,job:i.forceatlas2.atomicGo,end:function(){i.refresh(),i.forceatlas2.isRunning&&t()}})}if((this.forceatlas2||{}).isRunning)return this;this.forceatlas2||(this.forceatlas2=new e.ForceAtlas2(this.graph),this.forceatlas2.setAutoSettings(),this.forceatlas2.init()),this.forceatlas2.isRunning=!0;var i=this;return t(),this},sigma.prototype.stopForceAtlas2=function(){return conrad.hasJob("forceatlas2_"+this.id)&&conrad.killJob("forceatlas2_"+this.id),(this.forceatlas2||{}).isRunning&&(this.forceatlas2.state={step:0,index:0},this.forceatlas2.isRunning=!1,this.forceatlas2.clean()),this},e.defaultSettings={autoSettings:!0,linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:0,scalingRatio:1,strongGravityMode:!1,gravity:1,jitterTolerance:1,barnesHutOptimize:!1,barnesHutTheta:1.2,speed:1,outboundAttCompensation:1,totalSwinging:0,totalEffectiveTraction:0,complexIntervals:500,simpleIntervals:1e3}}()}]);